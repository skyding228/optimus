/*! finlog 2016-05-18 09 */
var mui=function(document,undefined){var readyRE=/complete|loaded|interactive/,idSelectorRE=/^#([\w-]+)$/,classSelectorRE=/^\.([\w-]+)$/,tagSelectorRE=/^[\w-]+$/,translateRE=/translate(?:3d)?\((.+?)\)/,translateMatrixRE=/matrix(3d)?\((.+?)\)/,$=function(selector,context){if(context=context||document,!selector)return wrap();if("object"==typeof selector)return wrap([selector],null);if("function"==typeof selector)return $.ready(selector);if("string"==typeof selector)try{if(selector=selector.trim(),idSelectorRE.test(selector)){var found=document.getElementById(RegExp.$1);return wrap(found?[found]:[])}return wrap($.qsa(selector,context),selector)}catch(e){}return wrap()},wrap=function(dom,selector){return dom=dom||[],Object.setPrototypeOf(dom,$.fn),dom.selector=selector||"",dom};$.uuid=0,$.data={},$.extend=function(){var options,name,src,copy,copyIsArray,clone,target=arguments[0]||{},i=1,length=arguments.length,deep=!1;for("boolean"==typeof target&&(deep=target,target=arguments[i]||{},i++),"object"==typeof target||$.isFunction(target)||(target={}),i===length&&(target=this,i--);length>i;i++)if(null!=(options=arguments[i]))for(name in options)src=target[name],copy=options[name],target!==copy&&(deep&&copy&&($.isPlainObject(copy)||(copyIsArray=$.isArray(copy)))?(copyIsArray?(copyIsArray=!1,clone=src&&$.isArray(src)?src:[]):clone=src&&$.isPlainObject(src)?src:{},target[name]=$.extend(deep,clone,copy)):copy!==undefined&&(target[name]=copy));return target},$.noop=function(){},$.slice=[].slice,$.filter=[].filter,$.type=function(obj){return null==obj?String(obj):class2type[{}.toString.call(obj)]||"object"},$.isArray=Array.isArray||function(object){return object instanceof Array},$.isWindow=function(obj){return null!=obj&&obj===obj.window},$.isObject=function(obj){return"object"===$.type(obj)},$.isPlainObject=function(obj){return $.isObject(obj)&&!$.isWindow(obj)&&Object.getPrototypeOf(obj)===Object.prototype},$.isEmptyObject=function(o){for(var p in o)if(p!==undefined)return!1;return!0},$.isFunction=function(value){return"function"===$.type(value)},$.qsa=function(selector,context){return context=context||document,$.slice.call(classSelectorRE.test(selector)?context.getElementsByClassName(RegExp.$1):tagSelectorRE.test(selector)?context.getElementsByTagName(selector):context.querySelectorAll(selector))},$.ready=function(callback){return readyRE.test(document.readyState)?callback($):document.addEventListener("DOMContentLoaded",function(){callback($)},!1),this},$.each=function(elements,callback,hasOwnProperty){if(!elements)return this;if("number"==typeof elements.length)[].every.call(elements,function(el,idx){return callback.call(el,idx,el)!==!1});else for(var key in elements)if(hasOwnProperty){if(elements.hasOwnProperty(key)&&callback.call(elements[key],key,elements[key])===!1)return elements}else if(callback.call(elements[key],key,elements[key])===!1)return elements;return this},$.focus=function(element){$.os.ios?setTimeout(function(){element.focus()},10):element.focus()},$.trigger=function(element,eventType,eventData){return element.dispatchEvent(new CustomEvent(eventType,{detail:eventData,bubbles:!0,cancelable:!0})),this},$.getStyles=function(element,property){var styles=element.ownerDocument.defaultView.getComputedStyle(element,null);return property?styles.getPropertyValue(property)||styles[property]:styles},$.parseTranslate=function(translateString,position){var result=translateString.match(translateRE||"");return result&&result[1]||(result=["","0,0,0"]),result=result[1].split(","),result={x:parseFloat(result[0]),y:parseFloat(result[1]),z:parseFloat(result[2])},position&&result.hasOwnProperty(position)?result[position]:result},$.parseTranslateMatrix=function(translateString,position){var matrix=translateString.match(translateMatrixRE),is3D=matrix&&matrix[1];matrix?(matrix=matrix[2].split(","),"3d"===is3D?matrix=matrix.slice(12,15):(matrix.push(0),matrix=matrix.slice(4,7))):matrix=[0,0,0];var result={x:parseFloat(matrix[0]),y:parseFloat(matrix[1]),z:parseFloat(matrix[2])};return position&&result.hasOwnProperty(position)?result[position]:result},$.hooks={},$.addAction=function(type,hook){var hooks=$.hooks[type];return hooks||(hooks=[]),hook.index=hook.index||1e3,hooks.push(hook),hooks.sort(function(a,b){return a.index-b.index}),$.hooks[type]=hooks,$.hooks[type]},$.doAction=function(type,callback){$.isFunction(callback)?$.each($.hooks[type],callback):$.each($.hooks[type],function(index,hook){return!hook.handle()})},$.later=function(fn,when,context,data){when=when||0;var f,r,m=fn,d=data;return"string"==typeof fn&&(m=context[fn]),f=function(){m.apply(context,$.isArray(d)?d:[d])},r=setTimeout(f,when),{id:r,cancel:function(){clearTimeout(r)}}},$.now=Date.now||function(){return+new Date};var class2type={};return $.each(["Boolean","Number","String","Function","Array","Date","RegExp","Object","Error"],function(i,name){class2type["[object "+name+"]"]=name.toLowerCase()}),window.JSON&&($.parseJSON=JSON.parse),$.fn={each:function(callback){return[].every.call(this,function(el,idx){return callback.call(el,idx,el)!==!1}),this}},"function"==typeof define&&define.amd&&define("mui",[],function(){return $}),$}(document);!function($,window){function detect(ua){this.os={};var funcs=[function(){var wechat=ua.match(/(MicroMessenger)\/([\d\.]+)/i);return wechat&&(this.os.wechat={version:wechat[2].replace(/_/g,".")}),!1},function(){var android=ua.match(/(Android);?[\s\/]+([\d.]+)?/);return android&&(this.os.android=!0,this.os.version=android[2],this.os.isBadAndroid=!/Chrome\/\d/.test(window.navigator.appVersion)),this.os.android===!0},function(){var iphone=ua.match(/(iPhone\sOS)\s([\d_]+)/);if(iphone)this.os.ios=this.os.iphone=!0,this.os.version=iphone[2].replace(/_/g,".");else{var ipad=ua.match(/(iPad).*OS\s([\d_]+)/);ipad&&(this.os.ios=this.os.ipad=!0,this.os.version=ipad[2].replace(/_/g,"."))}return this.os.ios===!0}];[].every.call(funcs,function(func){return!func.call($)})}detect.call($,navigator.userAgent)}(mui,window),function($,document){function detect(ua){this.os=this.os||{};var plus=ua.match(/Html5Plus/i);plus&&(this.os.plus=!0,$(function(){document.body.classList.add("mui-plus")}),ua.match(/StreamApp/i)&&(this.os.stream=!0,$(function(){document.body.classList.add("mui-plus-stream")})))}detect.call($,navigator.userAgent)}(mui,document),function($){"ontouchstart"in window?($.isTouchable=!0,$.EVENT_START="touchstart",$.EVENT_MOVE="touchmove",$.EVENT_END="touchend"):($.isTouchable=!1,$.EVENT_START="mousedown",$.EVENT_MOVE="mousemove",$.EVENT_END="mouseup"),$.EVENT_CANCEL="touchcancel",$.EVENT_CLICK="click";var _mid=1,delegates={},eventMethods={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"},returnTrue=function(){return!0},returnFalse=function(){return!1},compatible=function(event,target){return event.detail?event.detail.currentTarget=target:event.detail={currentTarget:target},$.each(eventMethods,function(name,predicate){var sourceMethod=event[name];event[name]=function(){return this[predicate]=returnTrue,sourceMethod&&sourceMethod.apply(event,arguments)},event[predicate]=returnFalse},!0),event},mid=function(obj){return obj&&(obj._mid||(obj._mid=_mid++))},delegateFns={},delegateFn=function(element,event,selector,callback){return function(e){for(var callbackObjs=delegates[element._mid][event],handlerQueue=[],target=e.target,selectorAlls={};target&&target!==document&&target!==element&&(!~["click","tap","doubletap","longtap","hold"].indexOf(event)||!target.disabled&&!target.classList.contains("mui-disabled"));target=target.parentNode){var matches={};$.each(callbackObjs,function(selector,callbacks){selectorAlls[selector]||(selectorAlls[selector]=$.qsa(selector,element)),selectorAlls[selector]&&~selectorAlls[selector].indexOf(target)&&(matches[selector]||(matches[selector]=callbacks))},!0),$.isEmptyObject(matches)||handlerQueue.push({element:target,handlers:matches})}selectorAlls=null,e=compatible(e),$.each(handlerQueue,function(index,handler){target=handler.element;var tagName=target.tagName;return"tap"===event&&"INPUT"!==tagName&&"TEXTAREA"!==tagName&&"SELECT"!==tagName&&(e.preventDefault(),e.detail&&e.detail.gesture&&e.detail.gesture.preventDefault()),$.each(handler.handlers,function(index,handler){$.each(handler,function(index,callback){callback.call(target,e)===!1&&(e.preventDefault(),e.stopPropagation())},!0)},!0),e.isPropagationStopped()?!1:void 0},!0)}},findDelegateFn=function(element,event){var delegateCallbacks=delegateFns[mid(element)],result=[];if(delegateCallbacks){if(result=[],event){var filterFn=function(fn){return fn.type===event};return delegateCallbacks.filter(filterFn)}result=delegateCallbacks}return result},preventDefaultException=/^(INPUT|TEXTAREA|BUTTON|SELECT)$/;$.fn.on=function(event,selector,callback){return this.each(function(){var element=this;mid(element),mid(callback);var isAddEventListener=!1,delegateEvents=delegates[element._mid]||(delegates[element._mid]={}),delegateCallbackObjs=delegateEvents[event]||(delegateEvents[event]={});$.isEmptyObject(delegateCallbackObjs)&&(isAddEventListener=!0);var delegateCallbacks=delegateCallbackObjs[selector]||(delegateCallbackObjs[selector]=[]);if(delegateCallbacks.push(callback),isAddEventListener){var delegateFnArray=delegateFns[mid(element)];delegateFnArray||(delegateFnArray=[]);var delegateCallback=delegateFn(element,event,selector,callback);delegateFnArray.push(delegateCallback),delegateCallback.i=delegateFnArray.length-1,delegateCallback.type=event,delegateFns[mid(element)]=delegateFnArray,element.addEventListener(event,delegateCallback),"tap"===event&&element.addEventListener("click",function(e){if(e.target){var tagName=e.target.tagName;if(!preventDefaultException.test(tagName))if("A"===tagName){var href=e.target.href;href&&~href.indexOf("tel:")||e.preventDefault()}else e.preventDefault()}})}})},$.fn.off=function(event,selector,callback){return this.each(function(){var _mid=mid(this);if(event)if(selector)if(callback){var delegateCallbacks=delegates[_mid]&&delegates[_mid][event]&&delegates[_mid][event][selector];$.each(delegateCallbacks,function(index,delegateCallback){return mid(delegateCallback)===mid(callback)?(delegateCallbacks.splice(index,1),!1):void 0},!0)}else delegates[_mid]&&delegates[_mid][event]&&delete delegates[_mid][event][selector];else delegates[_mid]&&delete delegates[_mid][event];else delegates[_mid]&&delete delegates[_mid];delegates[_mid]?delegates[_mid][event]&&!$.isEmptyObject(delegates[_mid][event])||findDelegateFn(this,event).forEach(function(fn){this.removeEventListener(fn.type,fn),delete delegateFns[_mid][fn.i]}.bind(this)):findDelegateFn(this).forEach(function(fn){this.removeEventListener(fn.type,fn),delete delegateFns[_mid][fn.i]}.bind(this))})}}(mui),function($,window,document){$.targets={},$.targetHandles=[],$.registerTarget=function(target){return target.index=target.index||1e3,$.targetHandles.push(target),$.targetHandles.sort(function(a,b){return a.index-b.index}),$.targetHandles},window.addEventListener($.EVENT_START,function(event){for(var target=event.target,founds={};target&&target!==document;target=target.parentNode){var isFound=!1;if($.each($.targetHandles,function(index,targetHandle){var name=targetHandle.name;isFound||founds[name]||!targetHandle.hasOwnProperty("handle")?founds[name]||targetHandle.isReset!==!1&&($.targets[name]=!1):($.targets[name]=targetHandle.handle(event,target),$.targets[name]&&(founds[name]=!0,targetHandle.isContinue!==!0&&(isFound=!0)))}),isFound)break}}),window.addEventListener("click",function(event){for(var target=event.target,isFound=!1;target&&target!==document&&("A"!==target.tagName||($.each($.targetHandles,function(index,targetHandle){targetHandle.name;return targetHandle.hasOwnProperty("handle")&&targetHandle.handle(event,target)?(isFound=!0,event.preventDefault(),!1):void 0}),!isFound));target=target.parentNode);})}(mui,window,document),function(undefined){String.prototype.trim===undefined&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),Object.setPrototypeOf=Object.setPrototypeOf||function(obj,proto){return obj.__proto__=proto,obj}}(),function(){function CustomEvent(event,params){params=params||{bubbles:!1,cancelable:!1,detail:void 0};var evt=document.createEvent("Events"),bubbles=!0;for(var name in params)"bubbles"===name?bubbles=!!params[name]:evt[name]=params[name];return evt.initEvent(event,bubbles,!0),evt}"undefined"==typeof window.CustomEvent&&(CustomEvent.prototype=window.Event.prototype,window.CustomEvent=CustomEvent)}(),Function.prototype.bind=Function.prototype.bind||function(to){var partial=Array.prototype.splice.call(arguments,1),fn=this,bound=function(){var args=partial.concat(Array.prototype.splice.call(arguments,0));return this instanceof bound?void fn.apply(this,args):fn.apply(to,args)};return bound.prototype=fn.prototype,bound},function(document){"classList"in document.documentElement||!Object.defineProperty||"undefined"==typeof HTMLElement||Object.defineProperty(HTMLElement.prototype,"classList",{get:function(){function update(fn){return function(value){var classes=self.className.split(/\s+/),index=classes.indexOf(value);fn(classes,index,value),self.className=classes.join(" ")}}var self=this,ret={add:update(function(classes,index,value){~index||classes.push(value)}),remove:update(function(classes,index){~index&&classes.splice(index,1)}),toggle:update(function(classes,index,value){~index?classes.splice(index,1):classes.push(value)}),contains:function(value){return!!~self.className.split(/\s+/).indexOf(value)},item:function(i){return self.className.split(/\s+/)[i]||null}};return Object.defineProperty(ret,"length",{get:function(){return self.className.split(/\s+/).length}}),ret}})}(document),function(window){if(!window.requestAnimationFrame){var lastTime=0;window.requestAnimationFrame=window.webkitRequestAnimationFrame||function(callback,element){var currTime=(new Date).getTime(),timeToCall=Math.max(0,16.7-(currTime-lastTime)),id=window.setTimeout(function(){callback(currTime+timeToCall)},timeToCall);return lastTime=currTime+timeToCall,id},window.cancelAnimationFrame=window.webkitCancelAnimationFrame||window.webkitCancelRequestAnimationFrame||function(id){clearTimeout(id)}}}(window),function($,window,name){if(($.os.android||$.os.ios)&&!window.FastClick){var handle=function(event,target){return"LABEL"===target.tagName&&target.parentNode&&(target=target.parentNode.querySelector("input")),!target||"radio"!==target.type&&"checkbox"!==target.type||target.disabled?!1:target};$.registerTarget({name:name,index:40,handle:handle,target:!1});var dispatchEvent=function(event){var targetElement=$.targets.click;if(targetElement){var clickEvent,touch;document.activeElement&&document.activeElement!==targetElement&&document.activeElement.blur(),touch=event.detail.gesture.changedTouches[0],clickEvent=document.createEvent("MouseEvents"),clickEvent.initMouseEvent("click",!0,!0,window,1,touch.screenX,touch.screenY,touch.clientX,touch.clientY,!1,!1,!1,!1,0,null),clickEvent.forwardedTouchEvent=!0,targetElement.dispatchEvent(clickEvent),event.detail&&event.detail.gesture.preventDefault()}};window.addEventListener("tap",dispatchEvent),window.addEventListener("doubletap",dispatchEvent),window.addEventListener("click",function(event){return $.targets.click&&!event.forwardedTouchEvent?(event.stopImmediatePropagation?event.stopImmediatePropagation():event.propagationStopped=!0,event.stopPropagation(),event.preventDefault(),!1):void 0},!0)}}(mui,window,"click"),function($,document){$(function(){if($.os.ios){var CLASS_FOCUSIN="mui-focusin",CLASS_BAR_TAB="mui-bar-tab",CLASS_BAR_FOOTER="mui-bar-footer",CLASS_BAR_FOOTER_SECONDARY="mui-bar-footer-secondary",CLASS_BAR_FOOTER_SECONDARY_TAB="mui-bar-footer-secondary-tab";document.addEventListener("focusin",function(e){if(!($.os.plus&&window.plus&&plus.webview.currentWebview().children().length>0)){var target=e.target;if(target.tagName&&("TEXTAREA"===target.tagName||"INPUT"===target.tagName&&("text"===target.type||"search"===target.type||"number"===target.type))){if(target.disabled||target.readOnly)return;document.body.classList.add(CLASS_FOCUSIN);for(var isFooter=!1;target&&target!==document;target=target.parentNode){var classList=target.classList;if(classList&&classList.contains(CLASS_BAR_TAB)||classList.contains(CLASS_BAR_FOOTER)||classList.contains(CLASS_BAR_FOOTER_SECONDARY)||classList.contains(CLASS_BAR_FOOTER_SECONDARY_TAB)){isFooter=!0;break}}if(isFooter){var scrollTop=document.body.scrollHeight,scrollLeft=document.body.scrollLeft;setTimeout(function(){window.scrollTo(scrollLeft,scrollTop)},20)}}}}),document.addEventListener("focusout",function(e){var classList=document.body.classList;classList.contains(CLASS_FOCUSIN)&&(classList.remove(CLASS_FOCUSIN),setTimeout(function(){window.scrollTo(document.body.scrollLeft,document.body.scrollTop)},20))})}})}(mui,document),function($){$.namespace="mui",$.classNamePrefix=$.namespace+"-",$.classSelectorPrefix="."+$.classNamePrefix,$.className=function(className){return $.classNamePrefix+className},$.classSelector=function(classSelector){return classSelector.replace(/\./g,$.classSelectorPrefix)},$.eventName=function(event,module){return event+($.namespace?"."+$.namespace:"")+(module?"."+module:"")}}(mui),function($,window){$.gestures={session:{}},$.preventDefault=function(e){e.preventDefault()},$.stopPropagation=function(e){e.stopPropagation()},$.addGesture=function(gesture){return $.addAction("gestures",gesture)};var round=Math.round,abs=Math.abs,sqrt=Math.sqrt,atan2=(Math.atan,Math.atan2),getDistance=function(p1,p2,props){props||(props=["x","y"]);var x=p2[props[0]]-p1[props[0]],y=p2[props[1]]-p1[props[1]];return sqrt(x*x+y*y)},getScale=function(starts,moves){if(starts.length>=2&&moves.length>=2){var props=["pageX","pageY"];return getDistance(moves[1],moves[0],props)/getDistance(starts[1],starts[0],props)}return 1},getAngle=function(p1,p2,props){props||(props=["x","y"]);var x=p2[props[0]]-p1[props[0]],y=p2[props[1]]-p1[props[1]];return 180*atan2(y,x)/Math.PI},getDirection=function(x,y){return x===y?"":abs(x)>=abs(y)?x>0?"left":"right":y>0?"up":"down"},getRotation=function(start,end){var props=["pageX","pageY"];return getAngle(end[1],end[0],props)-getAngle(start[1],start[0],props)},getVelocity=function(deltaTime,x,y){return{x:x/deltaTime||0,y:y/deltaTime||0}},detect=function(event,touch){$.gestures.stoped||$.doAction("gestures",function(index,gesture){$.gestures.stoped||$.options.gestureConfig[gesture.name]!==!1&&gesture.handle(event,touch)})},hasParent=function(node,parent){for(;node;){if(node==parent)return!0;node=node.parentNode}return!1},uniqueArray=function(src,key,sort){for(var results=[],values=[],i=0;i<src.length;){var val=key?src[i][key]:src[i];values.indexOf(val)<0&&results.push(src[i]),values[i]=val,i++}return sort&&(results=key?results.sort(function(a,b){return a[key]>b[key]}):results.sort()),results},getMultiCenter=function(touches){var touchesLength=touches.length;if(1===touchesLength)return{x:round(touches[0].pageX),y:round(touches[0].pageY)};for(var x=0,y=0,i=0;touchesLength>i;)x+=touches[i].pageX,y+=touches[i].pageY,i++;return{x:round(x/touchesLength),y:round(y/touchesLength)}},multiTouch=function(){return $.options.gestureConfig.pinch},copySimpleTouchData=function(touch){for(var touches=[],i=0;i<touch.touches.length;)touches[i]={pageX:round(touch.touches[i].pageX),pageY:round(touch.touches[i].pageY)},i++;return{timestamp:$.now(),gesture:touch.gesture,touches:touches,center:getMultiCenter(touch.touches),deltaX:touch.deltaX,deltaY:touch.deltaY}},calDelta=function(touch){var session=$.gestures.session,center=touch.center,offset=session.offsetDelta||{},prevDelta=session.prevDelta||{},prevTouch=session.prevTouch||{};touch.gesture.type!==$.EVENT_START&&touch.gesture.type!==$.EVENT_END||(prevDelta=session.prevDelta={x:prevTouch.deltaX||0,y:prevTouch.deltaY||0},offset=session.offsetDelta={x:center.x,y:center.y}),touch.deltaX=prevDelta.x+(center.x-offset.x),touch.deltaY=prevDelta.y+(center.y-offset.y)},calTouchData=function(touch){var session=$.gestures.session,touches=touch.touches,touchesLength=touches.length;session.firstTouch||(session.firstTouch=copySimpleTouchData(touch)),multiTouch()&&touchesLength>1&&!session.firstMultiTouch?session.firstMultiTouch=copySimpleTouchData(touch):1===touchesLength&&(session.firstMultiTouch=!1);var firstTouch=session.firstTouch,firstMultiTouch=session.firstMultiTouch,offsetCenter=firstMultiTouch?firstMultiTouch.center:firstTouch.center,center=touch.center=getMultiCenter(touches);touch.timestamp=$.now(),touch.deltaTime=touch.timestamp-firstTouch.timestamp,touch.angle=getAngle(offsetCenter,center),touch.distance=getDistance(offsetCenter,center),calDelta(touch),touch.offsetDirection=getDirection(touch.deltaX,touch.deltaY),touch.scale=firstMultiTouch?getScale(firstMultiTouch.touches,touches):1,touch.rotation=firstMultiTouch?getRotation(firstMultiTouch.touches,touches):0,calIntervalTouchData(touch)},CAL_INTERVAL=25,calIntervalTouchData=function(touch){var velocity,velocityX,velocityY,direction,session=$.gestures.session,last=session.lastInterval||touch,deltaTime=touch.timestamp-last.timestamp;if(touch.gesture.type!=$.EVENT_CANCEL&&(deltaTime>CAL_INTERVAL||void 0===last.velocity)){var deltaX=last.deltaX-touch.deltaX,deltaY=last.deltaY-touch.deltaY,v=getVelocity(deltaTime,deltaX,deltaY);velocityX=v.x,velocityY=v.y,velocity=abs(v.x)>abs(v.y)?v.x:v.y,direction=getDirection(deltaX,deltaY)||last.direction,session.lastInterval=touch}else velocity=last.velocity,velocityX=last.velocityX,velocityY=last.velocityY,direction=last.direction;touch.velocity=velocity,touch.velocityX=velocityX,touch.velocityY=velocityY,touch.direction=direction},targetIds={},convertTouches=function(touches){for(var i=0;i<touches.length;i++)!touches.identifier&&(touches.identifier=0);return touches},getTouches=function(event,touch){var allTouches=convertTouches($.slice.call(event.touches||[event])),type=event.type,targetTouches=[],changedTargetTouches=[];if(type!==$.EVENT_START&&type!==$.EVENT_MOVE||1!==allTouches.length){var i=0,targetTouches=[],changedTargetTouches=[],changedTouches=convertTouches($.slice.call(event.changedTouches||[event]));touch.target=event.target;var sessionTarget=$.gestures.session.target||event.target;if(targetTouches=allTouches.filter(function(touch){return hasParent(touch.target,sessionTarget)}),type===$.EVENT_START)for(i=0;i<targetTouches.length;)targetIds[targetTouches[i].identifier]=!0,i++;for(i=0;i<changedTouches.length;)targetIds[changedTouches[i].identifier]&&changedTargetTouches.push(changedTouches[i]),type!==$.EVENT_END&&type!==$.EVENT_CANCEL||delete targetIds[changedTouches[i].identifier],i++;if(!changedTargetTouches.length)return!1}else targetIds[allTouches[0].identifier]=!0,targetTouches=allTouches,changedTargetTouches=allTouches,touch.target=event.target;targetTouches=uniqueArray(targetTouches.concat(changedTargetTouches),"identifier",!0);var touchesLength=targetTouches.length,changedTouchesLength=changedTargetTouches.length;return type===$.EVENT_START&&touchesLength-changedTouchesLength===0&&(touch.isFirst=!0,$.gestures.touch=$.gestures.session={target:event.target}),touch.isFinal=(type===$.EVENT_END||type===$.EVENT_CANCEL)&&touchesLength-changedTouchesLength===0,touch.touches=targetTouches,touch.changedTouches=changedTargetTouches,!0},handleTouchEvent=function(event){var touch={gesture:event},touches=getTouches(event,touch);touches&&(calTouchData(touch),detect(event,touch),$.gestures.session.prevTouch=touch,event.type!==$.EVENT_END||$.isTouchable||($.gestures.touch=$.gestures.session={}))};window.addEventListener($.EVENT_START,handleTouchEvent),window.addEventListener($.EVENT_MOVE,handleTouchEvent),window.addEventListener($.EVENT_END,handleTouchEvent),window.addEventListener($.EVENT_CANCEL,handleTouchEvent),window.addEventListener($.EVENT_CLICK,function(e){($.os.android||$.os.ios)&&($.targets.popover&&e.target===$.targets.popover||$.targets.tab||$.targets.offcanvas||$.targets.modal)&&e.preventDefault()},!0),$.isScrolling=!1;var scrollingTimeout=null;window.addEventListener("scroll",function(){$.isScrolling=!0,scrollingTimeout&&clearTimeout(scrollingTimeout),scrollingTimeout=setTimeout(function(){$.isScrolling=!1},250)})}(mui,window),function($,name){var flickStartTime=0,handle=function(event,touch){var session=$.gestures.session,options=this.options,now=$.now();switch(event.type){case $.EVENT_MOVE:now-flickStartTime>300&&(flickStartTime=now,session.flickStart=touch.center);break;case $.EVENT_END:case $.EVENT_CANCEL:touch.flick=!1,session.flickStart&&options.flickMaxTime>now-flickStartTime&&touch.distance>options.flickMinDistince&&(touch.flick=!0,touch.flickTime=now-flickStartTime,touch.flickDistanceX=touch.center.x-session.flickStart.x,touch.flickDistanceY=touch.center.y-session.flickStart.y,$.trigger(session.target,name,touch),$.trigger(session.target,name+touch.direction,touch))}};$.addGesture({name:name,index:5,handle:handle,options:{flickMaxTime:200,flickMinDistince:10}})}(mui,"flick"),function($,name){var handle=function(event,touch){var session=$.gestures.session;if(event.type===$.EVENT_END||event.type===$.EVENT_CANCEL){var options=this.options;touch.swipe=!1,touch.direction&&options.swipeMaxTime>touch.deltaTime&&touch.distance>options.swipeMinDistince&&(touch.swipe=!0,$.trigger(session.target,name,touch),$.trigger(session.target,name+touch.direction,touch))}};$.addGesture({name:name,index:10,handle:handle,options:{swipeMaxTime:300,swipeMinDistince:18}})}(mui,"swipe"),function($,name){var handle=function(event,touch){var session=$.gestures.session;switch(event.type){case $.EVENT_START:break;case $.EVENT_MOVE:if(!touch.direction||!session.target)return;session.lockDirection&&session.startDirection&&session.startDirection&&session.startDirection!==touch.direction&&("up"===session.startDirection||"down"===session.startDirection?touch.direction=touch.deltaY<0?"up":"down":touch.direction=touch.deltaX<0?"left":"right"),session.drag||(session.drag=!0,$.trigger(session.target,name+"start",touch)),$.trigger(session.target,name,touch),$.trigger(session.target,name+touch.direction,touch);break;case $.EVENT_END:case $.EVENT_CANCEL:session.drag&&touch.isFinal&&$.trigger(session.target,name+"end",touch)}};$.addGesture({name:name,index:20,handle:handle,options:{fingers:1}})}(mui,"drag"),function($,name){var lastTarget,lastTapTime,handle=function(event,touch){var session=$.gestures.session,options=this.options;switch(event.type){case $.EVENT_END:if(!touch.isFinal)return;var target=session.target;if(!target||target.disabled||target.classList&&target.classList.contains("mui-disabled"))return;if(touch.distance<options.tapMaxDistance&&touch.deltaTime<options.tapMaxTime){if($.options.gestureConfig.doubletap&&lastTarget&&lastTarget===target&&lastTapTime&&touch.timestamp-lastTapTime<options.tapMaxInterval)return $.trigger(target,"doubletap",touch),lastTapTime=$.now(),void(lastTarget=target);$.trigger(target,name,touch),lastTapTime=$.now(),lastTarget=target}}};$.addGesture({name:name,index:30,handle:handle,options:{fingers:1,tapMaxInterval:300,tapMaxDistance:5,tapMaxTime:250}})}(mui,"tap"),function($,name){var timer,handle=function(event,touch){var session=$.gestures.session,options=this.options;switch(event.type){case $.EVENT_START:clearTimeout(timer),timer=setTimeout(function(){$.trigger(session.target,name,touch)},options.holdTimeout);break;case $.EVENT_MOVE:touch.distance>options.holdThreshold&&clearTimeout(timer);break;case $.EVENT_END:case $.EVENT_CANCEL:clearTimeout(timer)}};$.addGesture({name:name,index:10,handle:handle,options:{fingers:1,holdTimeout:500,holdThreshold:2}})}(mui,"longtap"),function($,name){var timer,handle=function(event,touch){var session=$.gestures.session,options=this.options;switch(event.type){case $.EVENT_START:$.options.gestureConfig.hold&&(timer&&clearTimeout(timer),timer=setTimeout(function(){touch.hold=!0,$.trigger(session.target,name,touch)},options.holdTimeout));break;case $.EVENT_MOVE:break;case $.EVENT_END:case $.EVENT_CANCEL:timer&&(clearTimeout(timer)&&(timer=null),$.trigger(session.target,"release",touch))}};$.addGesture({name:name,index:10,handle:handle,options:{fingers:1,holdTimeout:0}})}(mui,"hold"),function($,name){var handle=function(event,touch){var options=this.options,session=$.gestures.session;switch(event.type){case $.EVENT_START:break;case $.EVENT_MOVE:if($.options.gestureConfig.pinch){if(touch.touches.length<2)return;session.pinch||(session.pinch=!0,$.trigger(session.target,name+"start",touch)),$.trigger(session.target,name,touch);var scale=touch.scale,rotation=touch.rotation,lastScale="undefined"==typeof touch.lastScale?1:touch.lastScale,scaleDiff=1e-12;scale>lastScale?(lastScale=scale-scaleDiff,$.trigger(session.target,name+"out",touch)):lastScale>scale&&(lastScale=scale+scaleDiff,$.trigger(session.target,name+"in",touch)),Math.abs(rotation)>options.minRotationAngle&&$.trigger(session.target,"rotate",touch)}break;case $.EVENT_END:case $.EVENT_CANCEL:$.options.gestureConfig.pinch&&session.pinch&&2===touch.touches.length&&(session.pinch=!1,$.trigger(session.target,name+"end",touch))}};$.addGesture({name:name,index:10,handle:handle,options:{minRotationAngle:0}})}(mui,"pinch"),function($){function handleScroll(wrapper,iframe){var key="MUI_SCROLL_POSITION_"+document.location.href+"_"+iframe.src,scrollTop=parseFloat(localStorage.getItem(key))||0;scrollTop&&!function(y){iframe.onload=function(){window.scrollTo(0,y)}}(scrollTop),setInterval(function(){var _scrollTop=window.scrollY;scrollTop!==_scrollTop&&(localStorage.setItem(key,_scrollTop+""),scrollTop=_scrollTop)},100)}$.global=$.options={gestureConfig:{tap:!0,doubletap:!1,longtap:!1,hold:!1,flick:!0,swipe:!0,drag:!0,pinch:!1}},$.initGlobal=function(options){return $.options=$.extend(!0,$.global,options),this};var inits={},isInitialized=!1;$.init=function(options){return isInitialized=!0,$.options=$.extend(!0,$.global,options||{}),$.ready(function(){$.doAction("inits",function(index,init){var isInit=!(inits[init.name]&&!init.repeat);isInit&&(init.handle.call($),inits[init.name]=!0)})}),this},$.addInit=function(init){return $.addAction("inits",init)},$.addInit({name:"iframe",index:100,handle:function(){var options=$.options,subpages=options.subpages||[];!$.os.plus&&subpages.length&&createIframe(subpages[0])}});var createIframe=function(options){var wrapper=document.createElement("div");wrapper.className="mui-iframe-wrapper";var styles=options.styles||{};"string"!=typeof styles.top&&(styles.top="0px"),"string"!=typeof styles.bottom&&(styles.bottom="0px"),wrapper.style.top=styles.top,wrapper.style.bottom=styles.bottom;var iframe=document.createElement("iframe");iframe.src=options.url,iframe.id=options.id||options.url,iframe.name=iframe.id,wrapper.appendChild(iframe),document.body.appendChild(wrapper),$.os.wechat&&handleScroll(wrapper,iframe)};$(function(){var classList=document.body.classList,os=[];$.os.ios?(os.push({os:"ios",version:$.os.version}),classList.add("mui-ios")):$.os.android&&(os.push({os:"android",version:$.os.version}),classList.add("mui-android")),$.os.wechat&&(os.push({os:"wechat",version:$.os.wechat.version}),classList.add("mui-wechat")),os.length&&$.each(os,function(index,osObj){var version="";osObj.version&&$.each(osObj.version.split("."),function(i,v){version=version+(version?"-":"")+v,classList.add($.className(osObj.os+"-"+version))})})})}(mui),function($){var defaultOptions={swipeBack:!1,preloadPages:[],preloadLimit:10,keyEventBind:{backbutton:!0,menubutton:!0}},defaultShow={autoShow:!0,duration:$.os.ios?200:100,aniShow:"slide-in-right"};$.options.show&&(defaultShow=$.extend(!0,defaultShow,$.options.show)),$.currentWebview=null,$.isHomePage=!1,$.extend(!0,$.global,defaultOptions),$.extend(!0,$.options,defaultOptions),$.waitingOptions=function(options){return $.extend(!0,{},{autoShow:!0,title:""},options)},$.showOptions=function(options){return $.extend(!0,{},defaultShow,options);
},$.windowOptions=function(options){return $.extend({scalable:!1,bounce:""},options)},$.plusReady=function(callback){return window.plus?setTimeout(function(){callback()},0):document.addEventListener("plusready",function(){callback()},!1),this},$.fire=function(webview,eventType,data){webview&&(""!==data&&(data=data||{},$.isPlainObject(data)&&(data=JSON.stringify(data||{}).replace(/\'/g,"\\u0027").replace(/\\/g,"\\u005c"))),webview.evalJS("typeof mui!=='undefined'&&mui.receive('"+eventType+"','"+data+"')"))},$.receive=function(eventType,data){if(eventType){try{data&&(data=JSON.parse(data))}catch(e){}$.trigger(document,eventType,data)}};var triggerPreload=function(webview){if(!webview.preloaded){$.fire(webview,"preload");for(var list=webview.children(),i=0;i<list.length;i++)$.fire(list[i],"preload");webview.preloaded=!0}},trigger=function(webview,eventType,timeChecked){if(timeChecked){if(!webview[eventType+"ed"]){$.fire(webview,eventType);for(var list=webview.children(),i=0;i<list.length;i++)$.fire(list[i],eventType);webview[eventType+"ed"]=!0}}else{$.fire(webview,eventType);for(var list=webview.children(),i=0;i<list.length;i++)$.fire(list[i],eventType)}};$.openWindow=function(url,id,options){if("object"==typeof url?(options=url,url=options.url,id=options.id||url):"object"==typeof id?(options=id,id=url):id=id||url,!$.os.plus)return void($.os.ios||$.os.android?window.top.location.href=url:window.parent.location.href=url);if(window.plus){options=options||{};var nShow,nWaiting,params=options.params||{},webview=null,webviewCache=null;if($.webviews[id]&&(webviewCache=$.webviews[id],plus.webview.getWebviewById(id)&&(webview=webviewCache.webview)),webviewCache&&webview)return nShow=webviewCache.show,nShow=options.show?$.extend(nShow,options.show):nShow,webview.show(nShow.aniShow,nShow.duration,function(){triggerPreload(webview),trigger(webview,"pagebeforeshow",!1)}),webviewCache.afterShowMethodName&&webview.evalJS(webviewCache.afterShowMethodName+"('"+JSON.stringify(params)+"')"),webview;if(options.createNew!==!0&&(webview=plus.webview.getWebviewById(id)))return nShow=$.showOptions(options.show),nShow.autoShow&&webview.show(nShow.aniShow,nShow.duration,function(){triggerPreload(webview),trigger(webview,"pagebeforeshow",!1)}),webview;var waitingConfig=$.waitingOptions(options.waiting);return waitingConfig.autoShow&&(nWaiting=plus.nativeUI.showWaiting(waitingConfig.title,waitingConfig.options)),options=$.extend(options,{id:id,url:url}),webview=$.createWindow(options),nShow=$.showOptions(options.show),nShow.autoShow&&webview.addEventListener("loaded",function(){nWaiting&&nWaiting.close(),webview.show(nShow.aniShow,nShow.duration,function(){triggerPreload(webview),trigger(webview,"pagebeforeshow",!1)}),webview.showed=!0,options.afterShowMethodName&&webview.evalJS(options.afterShowMethodName+"('"+JSON.stringify(params)+"')")},!1),webview}},$.createWindow=function(options,isCreate){if(window.plus){var webview,id=options.id||options.url;if(options.preload){$.webviews[id]&&$.webviews[id].webview.getURL()?webview=$.webviews[id].webview:(options.createNew!==!0&&(webview=plus.webview.getWebviewById(id)),webview||(webview=plus.webview.create(options.url,id,$.windowOptions(options.styles),$.extend({preload:!0},options.extras)),options.subpages&&$.each(options.subpages,function(index,subpage){var subWebview=plus.webview.create(subpage.url,subpage.id||subpage.url,$.windowOptions(subpage.styles),$.extend({preload:!0},subpage.extras));webview.append(subWebview)}))),$.webviews[id]={webview:webview,preload:!0,show:$.showOptions(options.show),afterShowMethodName:options.afterShowMethodName};var preloads=$.data.preloads,index=preloads.indexOf(id);if(~index&&preloads.splice(index,1),preloads.push(id),preloads.length>$.options.preloadLimit){var first=$.data.preloads.shift(),webviewCache=$.webviews[first];webviewCache&&webviewCache.webview&&$.closeAll(webviewCache.webview),delete $.webviews[first]}}else isCreate!==!1&&(webview=plus.webview.create(options.url,id,$.windowOptions(options.styles),options.extras),options.subpages&&$.each(options.subpages,function(index,subpage){var subWebview=plus.webview.create(subpage.url,subpage.id||subpage.url,$.windowOptions(subpage.styles),subpage.extras);webview.append(subWebview)}));return webview}},$.preload=function(options){return options.preload||(options.preload=!0),$.createWindow(options)},$.closeOpened=function(webview){var opened=webview.opened();if(opened)for(var i=0,len=opened.length;len>i;i++){var openedWebview=opened[i],open_open=openedWebview.opened();open_open&&open_open.length>0?$.closeOpened(openedWebview):openedWebview.parent()!==webview&&openedWebview.close("none")}},$.closeAll=function(webview,aniShow){$.closeOpened(webview),aniShow?webview.close(aniShow):webview.close()},$.createWindows=function(options){$.each(options,function(index,option){$.createWindow(option,!1)})},$.appendWebview=function(options){if(window.plus){var webview,id=options.id||options.url;return $.webviews[id]||(webview=plus.webview.create(options.url,id,options.styles,options.extras),plus.webview.currentWebview().append(webview),$.webviews[id]=options),webview}},$.webviews={},$.data.preloads=[],$.plusReady(function(){$.currentWebview=plus.webview.currentWebview()}),$.addInit({name:"5+",index:100,handle:function(){var options=$.options,subpages=options.subpages||[];$.os.plus&&$.plusReady(function(){$.each(subpages,function(index,subpage){$.appendWebview(subpage)}),plus.webview.currentWebview()===plus.webview.getWebviewById(plus.runtime.appid)&&($.isHomePage=!0,setTimeout(function(){triggerPreload(plus.webview.currentWebview())},300)),$.os.ios&&$.options.statusBarBackground&&plus.navigator.setStatusBarBackground($.options.statusBarBackground),$.os.android&&parseFloat($.os.version)<4.4&&null==plus.webview.currentWebview().parent()&&document.addEventListener("resume",function(){var body=document.body;body.style.display="none",setTimeout(function(){body.style.display=""},10)})})}}),window.addEventListener("preload",function(){var webviews=$.options.preloadPages||[];$.plusReady(function(){$.each(webviews,function(index,webview){$.createWindow($.extend(webview,{preload:!0}))})})}),$.supportStatusbarOffset=function(){return $.os.plus&&$.os.ios&&parseFloat($.os.version)>=7},$.ready(function(){$.supportStatusbarOffset()&&document.body.classList.add("mui-statusbar")})}(mui),function($,window){$.addBack=function(back){return $.addAction("backs",back)},$.addBack({name:"browser",index:100,handle:function(){return window.history.length>1?(window.history.back(),!0):!1}}),$.back=function(){"function"==typeof $.options.beforeback&&$.options.beforeback()===!1||$.doAction("backs")},window.addEventListener("tap",function(e){var action=$.targets.action;action&&action.classList.contains("mui-action-back")&&($.back(),$.targets.action=!1)}),window.addEventListener("swiperight",function(e){var detail=e.detail;$.options.swipeBack===!0&&Math.abs(detail.angle)<3&&$.back()})}(mui,window),function($,window){$.os.plus&&$.os.android&&$.addBack({name:"mui",index:5,handle:function(){if($.targets._popover&&$.targets._popover.classList.contains("mui-active"))return $($.targets._popover).popover("hide"),!0;var offCanvas=document.querySelector(".mui-off-canvas-wrap.mui-active");if(offCanvas)return $(offCanvas).offCanvas("close"),!0;var previewImage=$.isFunction($.getPreviewImage)&&$.getPreviewImage();return previewImage&&previewImage.isShown()?(previewImage.close(),!0):$.closePopup()}}),$.addBack({name:"5+",index:10,handle:function(){if(!window.plus)return!1;var wobj=plus.webview.currentWebview(),parent=wobj.parent();return parent?parent.evalJS("mui&&mui.back();"):wobj.canBack(function(e){e.canBack?window.history.back():wobj.id===plus.runtime.appid||(wobj.preload?wobj.hide("auto"):$.closeAll(wobj))}),!0}}),$.menu=function(){var menu=document.querySelector(".mui-action-menu");if(menu)$.trigger(menu,$.EVENT_START),$.trigger(menu,"tap");else if(window.plus){var wobj=$.currentWebview,parent=wobj.parent();parent&&parent.evalJS("mui&&mui.menu();")}};var __back=function(){$.back()},__menu=function(){$.menu()};$.plusReady(function(){$.options.keyEventBind.backbutton&&plus.key.addEventListener("backbutton",__back,!1),$.options.keyEventBind.menubutton&&plus.key.addEventListener("menubutton",__menu,!1)}),$.addInit({name:"keyEventBind",index:1e3,handle:function(){$.plusReady(function(){$.options.keyEventBind.backbutton||plus.key.removeEventListener("backbutton",__back),$.options.keyEventBind.menubutton||plus.key.removeEventListener("menubutton",__menu)})}})}(mui,window),function($){$.addInit({name:"pullrefresh",index:1e3,handle:function(){var options=$.options,pullRefreshOptions=options.pullRefresh||{},hasPulldown=pullRefreshOptions.down&&pullRefreshOptions.down.hasOwnProperty("callback"),hasPullup=pullRefreshOptions.up&&pullRefreshOptions.up.hasOwnProperty("callback");if(hasPulldown||hasPullup){var container=pullRefreshOptions.container;if(container){var $container=$(container);1===$container.length&&($.os.plus&&$.os.android?$.plusReady(function(){var webview=plus.webview.currentWebview();if(hasPullup){var upOptions={};upOptions.up=pullRefreshOptions.up,upOptions.webviewId=webview.id||webview.getURL(),$container.pullRefresh(upOptions)}if(hasPulldown){var parent=webview.parent(),id=webview.id||webview.getURL();if(parent){hasPullup||$container.pullRefresh({webviewId:id});var downOptions={webviewId:id};downOptions.down=$.extend({},pullRefreshOptions.down),downOptions.down.callback="_CALLBACK",parent.evalJS("mui&&mui(document.querySelector('.mui-content')).pullRefresh('"+JSON.stringify(downOptions)+"')")}}}):$container.pullRefresh(pullRefreshOptions))}}}})}(mui),function($,window,undefined){var jsonType="application/json",htmlType="text/html",rscript=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,scriptTypeRE=/^(?:text|application)\/javascript/i,xmlTypeRE=/^(?:text|application)\/xml/i,blankRE=/^\s*$/;$.ajaxSettings={type:"GET",beforeSend:$.noop,success:$.noop,error:$.noop,complete:$.noop,context:null,xhr:function(protocol){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:jsonType,xml:"application/xml, text/xml",html:htmlType,text:"text/plain"},timeout:0,processData:!0,cache:!0};var ajaxBeforeSend=function(xhr,settings){var context=settings.context;return settings.beforeSend.call(context,xhr,settings)===!1?!1:void 0},ajaxSuccess=function(data,xhr,settings){settings.success.call(settings.context,data,"success",xhr),ajaxComplete("success",xhr,settings)},ajaxError=function(error,type,xhr,settings){settings.error.call(settings.context,xhr,type,error),ajaxComplete(type,xhr,settings)},ajaxComplete=function(status,xhr,settings){settings.complete.call(settings.context,xhr,status)},serialize=function(params,obj,traditional,scope){var type,array=$.isArray(obj),hash=$.isPlainObject(obj);$.each(obj,function(key,value){type=$.type(value),scope&&(key=traditional?scope:scope+"["+(hash||"object"===type||"array"===type?key:"")+"]"),!scope&&array?params.add(value.name,value.value):"array"===type||!traditional&&"object"===type?serialize(params,value,traditional,key):params.add(key,value)})},serializeData=function(options){options.processData&&options.data&&"string"!=typeof options.data&&(options.data=$.param(options.data,options.traditional)),!options.data||options.type&&"GET"!==options.type.toUpperCase()||(options.url=appendQuery(options.url,options.data),options.data=undefined)},appendQuery=function(url,query){return""===query?url:(url+"&"+query).replace(/[&?]{1,2}/,"?")},mimeToDataType=function(mime){return mime&&(mime=mime.split(";",2)[0]),mime&&(mime===htmlType?"html":mime===jsonType?"json":scriptTypeRE.test(mime)?"script":xmlTypeRE.test(mime)&&"xml")||"text"},parseArguments=function(url,data,success,dataType){return $.isFunction(data)&&(dataType=success,success=data,data=undefined),$.isFunction(success)||(dataType=success,success=undefined),{url:url,data:data,success:success,dataType:dataType}};$.ajax=function(url,options){"object"==typeof url&&(options=url,url=undefined);var settings=options||{};settings.url=url||settings.url;for(var key in $.ajaxSettings)settings[key]===undefined&&(settings[key]=$.ajaxSettings[key]);serializeData(settings);var dataType=settings.dataType;settings.cache!==!1&&(options&&options.cache===!0||"script"!==dataType)||(settings.url=appendQuery(settings.url,"_="+$.now()));var abortTimeout,mime=settings.accepts[dataType&&dataType.toLowerCase()],headers={},setHeader=function(name,value){headers[name.toLowerCase()]=[name,value]},protocol=/^([\w-]+:)\/\//.test(settings.url)?RegExp.$1:window.location.protocol,xhr=settings.xhr(settings),nativeSetHeader=xhr.setRequestHeader;if(setHeader("X-Requested-With","XMLHttpRequest"),setHeader("Accept",mime||"*/*"),(mime=settings.mimeType||mime)&&(mime.indexOf(",")>-1&&(mime=mime.split(",",2)[0]),xhr.overrideMimeType&&xhr.overrideMimeType(mime)),(settings.contentType||settings.contentType!==!1&&settings.data&&"GET"!==settings.type.toUpperCase())&&setHeader("Content-Type",settings.contentType||"application/x-www-form-urlencoded"),settings.headers)for(var name in settings.headers)setHeader(name,settings.headers[name]);if(xhr.setRequestHeader=setHeader,xhr.onreadystatechange=function(){if(4===xhr.readyState){xhr.onreadystatechange=$.noop,clearTimeout(abortTimeout);var result,error=!1,isLocal="file:"===protocol;if(xhr.status>=200&&xhr.status<300||304===xhr.status||0===xhr.status&&isLocal&&xhr.responseText){dataType=dataType||mimeToDataType(settings.mimeType||xhr.getResponseHeader("content-type")),result=xhr.responseText;try{"script"===dataType?(0,eval)(result):"xml"===dataType?result=xhr.responseXML:"json"===dataType&&(result=blankRE.test(result)?null:$.parseJSON(result))}catch(e){error=e}error?ajaxError(error,"parsererror",xhr,settings):ajaxSuccess(result,xhr,settings)}else{var status=xhr.status?"error":"abort",statusText=xhr.statusText||null;isLocal&&(status="error",statusText="404"),ajaxError(statusText,status,xhr,settings)}}},ajaxBeforeSend(xhr,settings)===!1)return xhr.abort(),ajaxError(null,"abort",xhr,settings),xhr;if(settings.xhrFields)for(var name in settings.xhrFields)xhr[name]=settings.xhrFields[name];var async="async"in settings?settings.async:!0;xhr.open(settings.type.toUpperCase(),settings.url,async,settings.username,settings.password);for(var name in headers)nativeSetHeader.apply(xhr,headers[name]);return settings.timeout>0&&(abortTimeout=setTimeout(function(){xhr.onreadystatechange=$.noop,xhr.abort(),ajaxError(null,"timeout",xhr,settings)},settings.timeout)),xhr.send(settings.data?settings.data:null),xhr},$.param=function(obj,traditional){var params=[];return params.add=function(k,v){this.push(encodeURIComponent(k)+"="+encodeURIComponent(v))},serialize(params,obj,traditional),params.join("&").replace(/%20/g,"+")},$.get=function(){return $.ajax(parseArguments.apply(null,arguments))},$.post=function(){var options=parseArguments.apply(null,arguments);return options.type="POST",$.ajax(options)},$.getJSON=function(){var options=parseArguments.apply(null,arguments);return options.dataType="json",$.ajax(options)},$.fn.load=function(url,data,success){if(!this.length)return this;var selector,self=this,parts=url.split(/\s/),options=parseArguments(url,data,success),callback=options.success;return parts.length>1&&(options.url=parts[0],selector=parts[1]),options.success=function(response){if(selector){var div=document.createElement("div");div.innerHTML=response.replace(rscript,"");var selectorDiv=document.createElement("div"),childs=div.querySelectorAll(selector);if(childs&&childs.length>0)for(var i=0,len=childs.length;len>i;i++)selectorDiv.appendChild(childs[i]);self[0].innerHTML=selectorDiv.innerHTML}else self[0].innerHTML=response;callback&&callback.apply(self,arguments)},$.ajax(options),this}}(mui,window),function($){var originAnchor=document.createElement("a");originAnchor.href=window.location.href,$.plusReady(function(){$.ajaxSettings=$.extend($.ajaxSettings,{xhr:function(settings){if(settings.crossDomain)return new plus.net.XMLHttpRequest;if("file:"!==originAnchor.protocol){var urlAnchor=document.createElement("a");if(urlAnchor.href=settings.url,urlAnchor.href=urlAnchor.href,settings.crossDomain=originAnchor.protocol+"//"+originAnchor.host!=urlAnchor.protocol+"//"+urlAnchor.host,settings.crossDomain)return new plus.net.XMLHttpRequest}return new window.XMLHttpRequest}})})}(mui),function($,window,undefined){$.offset=function(element){var box={top:0,left:0};return typeof element.getBoundingClientRect!==undefined&&(box=element.getBoundingClientRect()),{top:box.top+window.pageYOffset-element.clientTop,left:box.left+window.pageXOffset-element.clientLeft}}}(mui,window),function($,window){$.scrollTo=function(scrollTop,duration,callback){duration=duration||1e3;var scroll=function(duration){if(0>=duration)return window.scrollTo(0,scrollTop),void(callback&&callback());var distaince=scrollTop-window.scrollY;setTimeout(function(){window.scrollTo(0,window.scrollY+distaince/duration*10),scroll(duration-10)},16.7)};scroll(duration)},$.animationFrame=function(cb){var args,isQueued,context;return function(){args=arguments,context=this,isQueued||(isQueued=!0,requestAnimationFrame(function(){cb.apply(context,args),isQueued=!1}))}}}(mui,window),function($){var initializing=!1,fnTest=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/,Class=function(){};Class.extend=function(prop){function Class(){!initializing&&this.init&&this.init.apply(this,arguments)}var _super=this.prototype;initializing=!0;var prototype=new this;initializing=!1;for(var name in prop)prototype[name]="function"==typeof prop[name]&&"function"==typeof _super[name]&&fnTest.test(prop[name])?function(name,fn){return function(){var tmp=this._super;this._super=_super[name];var ret=fn.apply(this,arguments);return this._super=tmp,ret}}(name,prop[name]):prop[name];return Class.prototype=prototype,Class.prototype.constructor=Class,Class.extend=arguments.callee,Class},$.Class=Class}(mui),function($,document,undefined){var CLASS_PULL_TOP_POCKET="mui-pull-top-pocket",CLASS_PULL_BOTTOM_POCKET="mui-pull-bottom-pocket",CLASS_PULL="mui-pull",CLASS_PULL_LOADING="mui-pull-loading",CLASS_PULL_CAPTION="mui-pull-caption",CLASS_PULL_CAPTION_DOWN="mui-pull-caption-down",CLASS_PULL_CAPTION_REFRESH="mui-pull-caption-refresh",CLASS_PULL_CAPTION_NOMORE="mui-pull-caption-nomore",CLASS_ICON="mui-icon",CLASS_SPINNER="mui-spinner",CLASS_ICON_PULLDOWN="mui-icon-pulldown",CLASS_BLOCK="mui-block",CLASS_HIDDEN="mui-hidden",CLASS_VISIBILITY="mui-visibility",CLASS_LOADING_UP=CLASS_PULL_LOADING+" "+CLASS_ICON+" "+CLASS_ICON_PULLDOWN,CLASS_LOADING_DOWN=CLASS_PULL_LOADING+" "+CLASS_ICON+" "+CLASS_ICON_PULLDOWN,CLASS_LOADING=CLASS_PULL_LOADING+" "+CLASS_ICON+" "+CLASS_SPINNER,pocketHtml=['<div class="'+CLASS_PULL+'">','<div class="{icon}"></div>','<div class="'+CLASS_PULL_CAPTION+'">{contentrefresh}</div>',"</div>"].join(""),PullRefresh={init:function(element,options){this._super(element,$.extend(!0,{scrollY:!0,scrollX:!1,indicators:!0,deceleration:.003,down:{height:50,contentinit:"",contentdown:"",contentover:"",contentrefresh:"..."},up:{height:50,auto:!1,contentinit:"",contentdown:"",contentrefresh:"...",contentnomore:"",duration:300}},options))},_init:function(){this._super(),this._initPocket()},_initPulldownRefresh:function(){this.pulldown=!0,this.pullPocket=this.topPocket,this.pullPocket.classList.add(CLASS_BLOCK),this.pullPocket.classList.add(CLASS_VISIBILITY),this.pullCaption=this.topCaption,this.pullLoading=this.topLoading},_initPullupRefresh:function(){this.pulldown=!1,this.pullPocket=this.bottomPocket,this.pullPocket.classList.add(CLASS_BLOCK),this.pullPocket.classList.add(CLASS_VISIBILITY),this.pullCaption=this.bottomCaption,this.pullLoading=this.bottomLoading},_initPocket:function(){var options=this.options;options.down&&options.down.hasOwnProperty("callback")&&(this.topPocket=this.scroller.querySelector("."+CLASS_PULL_TOP_POCKET),this.topPocket||(this.topPocket=this._createPocket(CLASS_PULL_TOP_POCKET,options.down,CLASS_LOADING_DOWN),this.wrapper.insertBefore(this.topPocket,this.wrapper.firstChild)),this.topLoading=this.topPocket.querySelector("."+CLASS_PULL_LOADING),this.topCaption=this.topPocket.querySelector("."+CLASS_PULL_CAPTION)),options.up&&options.up.hasOwnProperty("callback")&&(this.bottomPocket=this.scroller.querySelector("."+CLASS_PULL_BOTTOM_POCKET),this.bottomPocket||(this.bottomPocket=this._createPocket(CLASS_PULL_BOTTOM_POCKET,options.up,CLASS_LOADING),this.scroller.appendChild(this.bottomPocket)),this.bottomLoading=this.bottomPocket.querySelector("."+CLASS_PULL_LOADING),this.bottomCaption=this.bottomPocket.querySelector("."+CLASS_PULL_CAPTION),this.wrapper.addEventListener("scrollbottom",this))},_createPocket:function(clazz,options,iconClass){var pocket=document.createElement("div");return pocket.className=clazz,pocket.innerHTML=pocketHtml.replace("{contentrefresh}",options.contentinit).replace("{icon}",iconClass),pocket},_resetPullDownLoading:function(){var loading=this.pullLoading;loading&&(this.pullCaption.innerHTML=this.options.down.contentdown,loading.style.webkitTransition="",loading.style.webkitTransform="",loading.style.webkitAnimation="",loading.className=CLASS_LOADING_DOWN)},_setCaptionClass:function(isPulldown,caption,title){if(!isPulldown)switch(title){case this.options.up.contentdown:caption.className=CLASS_PULL_CAPTION+" "+CLASS_PULL_CAPTION_DOWN;break;case this.options.up.contentrefresh:caption.className=CLASS_PULL_CAPTION+" "+CLASS_PULL_CAPTION_REFRESH;break;case this.options.up.contentnomore:caption.className=CLASS_PULL_CAPTION+" "+CLASS_PULL_CAPTION_NOMORE}},_setCaption:function(title,reset){if(!this.loading){var options=this.options,pocket=this.pullPocket,caption=this.pullCaption,loading=this.pullLoading,isPulldown=this.pulldown,self=this;pocket&&(reset?setTimeout(function(){caption.innerHTML=self.lastTitle=title,isPulldown?loading.className=CLASS_LOADING_DOWN:(self._setCaptionClass(!1,caption,title),loading.className=CLASS_LOADING),loading.style.webkitAnimation="",loading.style.webkitTransition="",loading.style.webkitTransform=""},100):title!==this.lastTitle&&(caption.innerHTML=title,isPulldown?title===options.down.contentrefresh?(loading.className=CLASS_LOADING,loading.style.webkitAnimation="spinner-spin 1s step-end infinite"):title===options.down.contentover?(loading.className=CLASS_LOADING_UP,loading.style.webkitTransition="-webkit-transform 0.3s ease-in",loading.style.webkitTransform="rotate(180deg)"):title===options.down.contentdown&&(loading.className=CLASS_LOADING_DOWN,loading.style.webkitTransition="-webkit-transform 0.3s ease-in",loading.style.webkitTransform="rotate(0deg)"):(title===options.up.contentrefresh?loading.className=CLASS_LOADING+" "+CLASS_VISIBILITY:loading.className=CLASS_LOADING+" "+CLASS_HIDDEN,self._setCaptionClass(!1,caption,title)),this.lastTitle=title))}}};$.PullRefresh=PullRefresh}(mui,document),function($,window,document,undefined){var CLASS_SCROLLBAR="mui-scrollbar",CLASS_INDICATOR="mui-scrollbar-indicator",CLASS_SCROLLBAR_VERTICAL=CLASS_SCROLLBAR+"-vertical",CLASS_SCROLLBAR_HORIZONTAL=CLASS_SCROLLBAR+"-horizontal",CLASS_ACTIVE="mui-active",ease={quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(k){return k*(2-k)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(k){return Math.sqrt(1- --k*k)}},outCirc:{style:"cubic-bezier(0.075, 0.82, 0.165, 1)"},outCubic:{style:"cubic-bezier(0.165, 0.84, 0.44, 1)"}},Scroll=$.Class.extend({init:function(element,options){this.wrapper=this.element=element,this.scroller=this.wrapper.children[0],this.scrollerStyle=this.scroller&&this.scroller.style,this.stopped=!1,this.options=$.extend(!0,{scrollY:!0,scrollX:!1,startX:0,startY:0,indicators:!0,stopPropagation:!1,hardwareAccelerated:!0,fixedBadAndorid:!1,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT|VIDEO)$/},momentum:!0,snapX:.5,snap:!1,bounce:!0,bounceTime:500,bounceEasing:ease.outCirc,scrollTime:500,scrollEasing:ease.outCubic,directionLockThreshold:5,parallaxElement:!1,parallaxRatio:.5},options),this.x=0,this.y=0,this.translateZ=this.options.hardwareAccelerated?" translateZ(0)":"",this._init(),this.scroller&&(this.refresh(),this.scrollTo(this.options.startX,this.options.startY))},_init:function(){this._initParallax(),this._initIndicators(),this._initEvent()},_initParallax:function(){this.options.parallaxElement&&(this.parallaxElement=document.querySelector(this.options.parallaxElement),this.parallaxStyle=this.parallaxElement.style,this.parallaxHeight=this.parallaxElement.offsetHeight,this.parallaxImgStyle=this.parallaxElement.querySelector("img").style)},_initIndicators:function(){var self=this;if(self.indicators=[],this.options.indicators){var indicator,indicators=[];self.options.scrollY&&(indicator={el:this._createScrollBar(CLASS_SCROLLBAR_VERTICAL),listenX:!1},this.wrapper.appendChild(indicator.el),indicators.push(indicator)),this.options.scrollX&&(indicator={el:this._createScrollBar(CLASS_SCROLLBAR_HORIZONTAL),listenY:!1},this.wrapper.appendChild(indicator.el),indicators.push(indicator));for(var i=indicators.length;i--;)this.indicators.push(new Indicator(this,indicators[i]))}},_initSnap:function(){this.currentPage={},this.pages=[];for(var snaps=this.snaps,length=snaps.length,m=0,n=-1,x=0,leftX=0,rightX=0,snapX=0,i=0;length>i;i++){var snap=snaps[i],offsetLeft=snap.offsetLeft,offsetWidth=snap.offsetWidth;(0===i||offsetLeft<=snaps[i-1].offsetLeft)&&(m=0,n++),this.pages[m]||(this.pages[m]=[]),x=this._getSnapX(offsetLeft),snapX=Math.round(offsetWidth*this.options.snapX),leftX=x-snapX,rightX=x-offsetWidth+snapX,this.pages[m][n]={x:x,leftX:leftX,rightX:rightX,pageX:m,element:snap},snap.classList.contains(CLASS_ACTIVE)&&(this.currentPage=this.pages[m][0]),x>=this.maxScrollX&&m++}this.options.startX=this.currentPage.x||0},_getSnapX:function(offsetLeft){return Math.max(Math.min(0,-offsetLeft+this.wrapperWidth/2),this.maxScrollX)},_gotoPage:function(index){this.currentPage=this.pages[Math.min(index,this.pages.length-1)][0];for(var i=0,len=this.snaps.length;len>i;i++)i===index?this.snaps[i].classList.add(CLASS_ACTIVE):this.snaps[i].classList.remove(CLASS_ACTIVE);this.scrollTo(this.currentPage.x,0,this.options.scrollTime)},_nearestSnap:function(x){if(!this.pages.length)return{x:0,pageX:0};var i=0,length=this.pages.length;for(x>0?x=0:x<this.maxScrollX&&(x=this.maxScrollX);length>i;i++){var nearestX="left"===this.direction?this.pages[i][0].leftX:this.pages[i][0].rightX;if(x>=nearestX)return this.pages[i][0]}return{x:0,pageX:0}},_initEvent:function(detach){var action=detach?"removeEventListener":"addEventListener";window[action]("orientationchange",this),window[action]("resize",this),this.scroller[action]("webkitTransitionEnd",this),this.wrapper[action]($.EVENT_START,this),this.wrapper[action]($.EVENT_CANCEL,this),this.wrapper[action]($.EVENT_END,this),this.wrapper[action]("drag",this),this.wrapper[action]("dragend",this),this.wrapper[action]("flick",this),this.wrapper[action]("scrollend",this),this.options.scrollX&&this.wrapper[action]("swiperight",this);var segmentedControl=this.wrapper.querySelector(".mui-segmented-control");segmentedControl&&mui(segmentedControl)[detach?"off":"on"]("click","a",$.preventDefault),this.wrapper[action]("scrollstart",this),this.wrapper[action]("refresh",this)},_handleIndicatorScrollend:function(){this.indicators.map(function(indicator){indicator.fade()})},_handleIndicatorScrollstart:function(){this.indicators.map(function(indicator){indicator.fade(1)})},_handleIndicatorRefresh:function(){this.indicators.map(function(indicator){indicator.refresh()})},handleEvent:function(e){if(this.stopped)return void this.resetPosition();switch(e.type){case $.EVENT_START:this._start(e);break;case"drag":this.options.stopPropagation&&e.stopPropagation(),this._drag(e);break;case"dragend":case"flick":this.options.stopPropagation&&e.stopPropagation(),this._flick(e);break;case $.EVENT_CANCEL:case $.EVENT_END:this._end(e);break;case"webkitTransitionEnd":this.transitionTimer&&this.transitionTimer.cancel(),this._transitionEnd(e);break;case"scrollstart":this._handleIndicatorScrollstart(e);break;case"scrollend":this._handleIndicatorScrollend(e),this._scrollend(e),e.stopPropagation();break;case"orientationchange":case"resize":this._resize();break;case"swiperight":e.stopPropagation();break;case"refresh":this._handleIndicatorRefresh(e)}},_start:function(e){if(this.moved=this.needReset=!1,this._transitionTime(),this.isInTransition){this.needReset=!0,this.isInTransition=!1;var pos=$.parseTranslateMatrix($.getStyles(this.scroller,"webkitTransform"));this.setTranslate(Math.round(pos.x),Math.round(pos.y)),$.trigger(this.scroller,"scrollend",this),e.preventDefault()}this.reLayout(),$.trigger(this.scroller,"beforescrollstart",this)},_getDirectionByAngle:function(angle){return-80>angle&&angle>-100?"up":angle>=80&&100>angle?"down":angle>=170||-170>=angle?"left":angle>=-35&&10>=angle?"right":null},_drag:function(e){var detail=e.detail;if((this.options.scrollY||"up"===detail.direction||"down"===detail.direction)&&$.os.ios&&parseFloat($.os.version)>=8){var clientY=detail.gesture.touches[0].clientY;if(clientY+10>window.innerHeight||10>clientY)return void this.resetPosition(this.options.bounceTime)}var isPreventDefault=isReturn=!1;this._getDirectionByAngle(detail.angle);if("left"===detail.direction||"right"===detail.direction?this.options.scrollX?(isPreventDefault=!0,this.moved||($.gestures.session.lockDirection=!0,$.gestures.session.startDirection=detail.direction)):this.options.scrollY&&!this.moved&&(isReturn=!0):"up"===detail.direction||"down"===detail.direction?this.options.scrollY?(isPreventDefault=!0,this.moved||($.gestures.session.lockDirection=!0,$.gestures.session.startDirection=detail.direction)):this.options.scrollX&&!this.moved&&(isReturn=!0):isReturn=!0,(this.moved||isPreventDefault)&&(e.stopPropagation(),detail.gesture&&detail.gesture.preventDefault()),!isReturn){this.moved?e.stopPropagation():$.trigger(this.scroller,"scrollstart",this);var deltaX=0,deltaY=0;this.moved?(deltaX=detail.deltaX-$.gestures.session.prevTouch.deltaX,deltaY=detail.deltaY-$.gestures.session.prevTouch.deltaY):(deltaX=detail.deltaX,deltaY=detail.deltaY);var absDeltaX=Math.abs(detail.deltaX),absDeltaY=Math.abs(detail.deltaY);absDeltaX>absDeltaY+this.options.directionLockThreshold?deltaY=0:absDeltaY>=absDeltaX+this.options.directionLockThreshold&&(deltaX=0),deltaX=this.hasHorizontalScroll?deltaX:0,deltaY=this.hasVerticalScroll?deltaY:0;var newX=this.x+deltaX,newY=this.y+deltaY;(newX>0||newX<this.maxScrollX)&&(newX=this.options.bounce?this.x+deltaX/3:newX>0?0:this.maxScrollX),(newY>0||newY<this.maxScrollY)&&(newY=this.options.bounce?this.y+deltaY/3:newY>0?0:this.maxScrollY),this.requestAnimationFrame||this._updateTranslate(),this.direction=detail.deltaX>0?"right":"left",this.moved=!0,this.x=newX,this.y=newY,$.trigger(this.scroller,"scroll",this)}},_flick:function(e){if(this.moved){e.stopPropagation();var detail=e.detail;if(this._clearRequestAnimationFrame(),"dragend"!==e.type||!detail.flick){var newX=Math.round(this.x),newY=Math.round(this.y);if(this.isInTransition=!1,!this.resetPosition(this.options.bounceTime)){if(this.scrollTo(newX,newY),"dragend"===e.type)return void $.trigger(this.scroller,"scrollend",this);var time=0,easing="";return this.options.momentum&&detail.flickTime<300&&(momentumX=this.hasHorizontalScroll?this._momentum(this.x,detail.flickDistanceX,detail.flickTime,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration):{destination:newX,duration:0},momentumY=this.hasVerticalScroll?this._momentum(this.y,detail.flickDistanceY,detail.flickTime,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration):{destination:newY,duration:0},newX=momentumX.destination,newY=momentumY.destination,time=Math.max(momentumX.duration,momentumY.duration),
this.isInTransition=!0),newX!=this.x||newY!=this.y?((newX>0||newX<this.maxScrollX||newY>0||newY<this.maxScrollY)&&(easing=ease.quadratic),void this.scrollTo(newX,newY,time,easing)):void $.trigger(this.scroller,"scrollend",this)}}}},_end:function(e){this.needReset=!1,(!this.moved&&this.needReset||e.type===$.EVENT_CANCEL)&&this.resetPosition()},_transitionEnd:function(e){e.target==this.scroller&&this.isInTransition&&(this._transitionTime(),this.resetPosition(this.options.bounceTime)||(this.isInTransition=!1,$.trigger(this.scroller,"scrollend",this)))},_scrollend:function(e){Math.abs(this.y)>0&&this.y<=this.maxScrollY&&$.trigger(this.scroller,"scrollbottom",this)},_resize:function(){var that=this;clearTimeout(that.resizeTimeout),that.resizeTimeout=setTimeout(function(){that.refresh()},that.options.resizePolling)},_transitionTime:function(time){if(time=time||0,this.scrollerStyle.webkitTransitionDuration=time+"ms",this.parallaxElement&&this.options.scrollY&&(this.parallaxStyle.webkitTransitionDuration=time+"ms"),this.options.fixedBadAndorid&&!time&&$.os.isBadAndroid&&(this.scrollerStyle.webkitTransitionDuration="0.001s",this.parallaxElement&&this.options.scrollY&&(this.parallaxStyle.webkitTransitionDuration="0.001s")),this.indicators)for(var i=this.indicators.length;i--;)this.indicators[i].transitionTime(time);time&&(this.transitionTimer&&this.transitionTimer.cancel(),this.transitionTimer=$.later(function(){$.trigger(this.scroller,"webkitTransitionEnd")},time+100,this))},_transitionTimingFunction:function(easing){if(this.scrollerStyle.webkitTransitionTimingFunction=easing,this.parallaxElement&&this.options.scrollY&&(this.parallaxStyle.webkitTransitionDuration=easing),this.indicators)for(var i=this.indicators.length;i--;)this.indicators[i].transitionTimingFunction(easing)},_translate:function(x,y){this.x=x,this.y=y},_clearRequestAnimationFrame:function(){this.requestAnimationFrame&&(cancelAnimationFrame(this.requestAnimationFrame),this.requestAnimationFrame=null)},_updateTranslate:function(){var self=this;self.x===self.lastX&&self.y===self.lastY||self.setTranslate(self.x,self.y),self.requestAnimationFrame=requestAnimationFrame(function(){self._updateTranslate()})},_createScrollBar:function(clazz){var scrollbar=document.createElement("div"),indicator=document.createElement("div");return scrollbar.className=CLASS_SCROLLBAR+" "+clazz,indicator.className=CLASS_INDICATOR,scrollbar.appendChild(indicator),clazz===CLASS_SCROLLBAR_VERTICAL?(this.scrollbarY=scrollbar,this.scrollbarIndicatorY=indicator):clazz===CLASS_SCROLLBAR_HORIZONTAL&&(this.scrollbarX=scrollbar,this.scrollbarIndicatorX=indicator),this.wrapper.appendChild(scrollbar),scrollbar},_preventDefaultException:function(el,exceptions){for(var i in exceptions)if(exceptions[i].test(el[i]))return!0;return!1},_reLayout:function(){if(this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth),this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight),this.indicators.map(function(indicator){indicator.refresh()}),this.options.snap&&"string"==typeof this.options.snap){var items=this.scroller.querySelectorAll(this.options.snap);this.itemLength=0,this.snaps=[];for(var i=0,len=items.length;len>i;i++){var item=items[i];item.parentNode===this.scroller&&(this.itemLength++,this.snaps.push(item))}this._initSnap()}},_momentum:function(current,distance,time,lowerMargin,wrapperSize,deceleration){var destination,duration,speed=parseFloat(Math.abs(distance)/time);return deceleration=deceleration===undefined?6e-4:deceleration,destination=current+speed*speed/(2*deceleration)*(0>distance?-1:1),duration=speed/deceleration,lowerMargin>destination?(destination=wrapperSize?lowerMargin-wrapperSize/2.5*(speed/8):lowerMargin,distance=Math.abs(destination-current),duration=distance/speed):destination>0&&(destination=wrapperSize?wrapperSize/2.5*(speed/8):0,distance=Math.abs(current)+destination,duration=distance/speed),{destination:Math.round(destination),duration:duration}},_getTranslateStr:function(x,y){return this.options.hardwareAccelerated?"translate3d("+x+"px,"+y+"px,0px) "+this.translateZ:"translate("+x+"px,"+y+"px) "},setStopped:function(stopped){this.stopped=!!stopped},setTranslate:function(x,y){if(this.x=x,this.y=y,this.scrollerStyle.webkitTransform=this._getTranslateStr(x,y),this.parallaxElement&&this.options.scrollY){var parallaxY=y*this.options.parallaxRatio,scale=1+parallaxY/((this.parallaxHeight-parallaxY)/2);scale>1?(this.parallaxImgStyle.opacity=1-parallaxY/100*this.options.parallaxRatio,this.parallaxStyle.webkitTransform=this._getTranslateStr(0,-parallaxY)+" scale("+scale+","+scale+")"):(this.parallaxImgStyle.opacity=1,this.parallaxStyle.webkitTransform=this._getTranslateStr(0,-1)+" scale(1,1)")}if(this.indicators)for(var i=this.indicators.length;i--;)this.indicators[i].updatePosition();this.lastX=this.x,this.lastY=this.y,$.trigger(this.scroller,"scroll",this)},reLayout:function(){this.wrapper.offsetHeight;var paddingLeft=parseFloat($.getStyles(this.wrapper,"padding-left"))||0,paddingRight=parseFloat($.getStyles(this.wrapper,"padding-right"))||0,paddingTop=parseFloat($.getStyles(this.wrapper,"padding-top"))||0,paddingBottom=parseFloat($.getStyles(this.wrapper,"padding-bottom"))||0,clientWidth=this.wrapper.clientWidth,clientHeight=this.wrapper.clientHeight;this.scrollerWidth=this.scroller.offsetWidth,this.scrollerHeight=this.scroller.offsetHeight,this.wrapperWidth=clientWidth-paddingLeft-paddingRight,this.wrapperHeight=clientHeight-paddingTop-paddingBottom,this.maxScrollX=Math.min(this.wrapperWidth-this.scrollerWidth,0),this.maxScrollY=Math.min(this.wrapperHeight-this.scrollerHeight,0),this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0,this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0,this._reLayout()},resetPosition:function(time){var x=this.x,y=this.y;return time=time||0,!this.hasHorizontalScroll||this.x>0?x=0:this.x<this.maxScrollX&&(x=this.maxScrollX),!this.hasVerticalScroll||this.y>0?y=0:this.y<this.maxScrollY&&(y=this.maxScrollY),x==this.x&&y==this.y?!1:(this.scrollTo(x,y,time,this.options.scrollEasing),!0)},refresh:function(){this.reLayout(),$.trigger(this.scroller,"refresh",this),this.resetPosition()},scrollTo:function(x,y,time,easing){var easing=easing||ease.circular;this.isInTransition=time>0,this.isInTransition?(this._clearRequestAnimationFrame(),this._transitionTimingFunction(easing.style),this._transitionTime(time),this.setTranslate(x,y)):this.setTranslate(x,y)},scrollToBottom:function(time,easing){time=time||this.options.scrollTime,this.scrollTo(0,this.maxScrollY,time,easing)},gotoPage:function(index){this._gotoPage(index)},destroy:function(){this._initEvent(!0),delete $.data[this.wrapper.getAttribute("data-scroll")],this.wrapper.setAttribute("data-scroll","")}}),Indicator=function(scroller,options){this.wrapper="string"==typeof options.el?document.querySelector(options.el):options.el,this.wrapperStyle=this.wrapper.style,this.indicator=this.wrapper.children[0],this.indicatorStyle=this.indicator.style,this.scroller=scroller,this.options=$.extend({listenX:!0,listenY:!0,fade:!1,speedRatioX:0,speedRatioY:0},options),this.sizeRatioX=1,this.sizeRatioY=1,this.maxPosX=0,this.maxPosY=0,this.options.fade&&(this.wrapperStyle.webkitTransform=this.scroller.translateZ,this.wrapperStyle.webkitTransitionDuration=this.options.fixedBadAndorid&&$.os.isBadAndroid?"0.001s":"0ms",this.wrapperStyle.opacity="0")};Indicator.prototype={handleEvent:function(e){},transitionTime:function(time){time=time||0,this.indicatorStyle.webkitTransitionDuration=time+"ms",this.scroller.options.fixedBadAndorid&&!time&&$.os.isBadAndroid&&(this.indicatorStyle.webkitTransitionDuration="0.001s")},transitionTimingFunction:function(easing){this.indicatorStyle.webkitTransitionTimingFunction=easing},refresh:function(){this.transitionTime(),this.options.listenX&&!this.options.listenY?this.indicatorStyle.display=this.scroller.hasHorizontalScroll?"block":"none":this.options.listenY&&!this.options.listenX?this.indicatorStyle.display=this.scroller.hasVerticalScroll?"block":"none":this.indicatorStyle.display=this.scroller.hasHorizontalScroll||this.scroller.hasVerticalScroll?"block":"none",this.wrapper.offsetHeight,this.options.listenX&&(this.wrapperWidth=this.wrapper.clientWidth,this.indicatorWidth=Math.max(Math.round(this.wrapperWidth*this.wrapperWidth/(this.scroller.scrollerWidth||this.wrapperWidth||1)),8),this.indicatorStyle.width=this.indicatorWidth+"px",this.maxPosX=this.wrapperWidth-this.indicatorWidth,this.minBoundaryX=0,this.maxBoundaryX=this.maxPosX,this.sizeRatioX=this.options.speedRatioX||this.scroller.maxScrollX&&this.maxPosX/this.scroller.maxScrollX),this.options.listenY&&(this.wrapperHeight=this.wrapper.clientHeight,this.indicatorHeight=Math.max(Math.round(this.wrapperHeight*this.wrapperHeight/(this.scroller.scrollerHeight||this.wrapperHeight||1)),8),this.indicatorStyle.height=this.indicatorHeight+"px",this.maxPosY=this.wrapperHeight-this.indicatorHeight,this.minBoundaryY=0,this.maxBoundaryY=this.maxPosY,this.sizeRatioY=this.options.speedRatioY||this.scroller.maxScrollY&&this.maxPosY/this.scroller.maxScrollY),this.updatePosition()},updatePosition:function(){var x=this.options.listenX&&Math.round(this.sizeRatioX*this.scroller.x)||0,y=this.options.listenY&&Math.round(this.sizeRatioY*this.scroller.y)||0;x<this.minBoundaryX?(this.width=Math.max(this.indicatorWidth+x,8),this.indicatorStyle.width=this.width+"px",x=this.minBoundaryX):x>this.maxBoundaryX?(this.width=Math.max(this.indicatorWidth-(x-this.maxPosX),8),this.indicatorStyle.width=this.width+"px",x=this.maxPosX+this.indicatorWidth-this.width):this.width!=this.indicatorWidth&&(this.width=this.indicatorWidth,this.indicatorStyle.width=this.width+"px"),y<this.minBoundaryY?(this.height=Math.max(this.indicatorHeight+3*y,8),this.indicatorStyle.height=this.height+"px",y=this.minBoundaryY):y>this.maxBoundaryY?(this.height=Math.max(this.indicatorHeight-3*(y-this.maxPosY),8),this.indicatorStyle.height=this.height+"px",y=this.maxPosY+this.indicatorHeight-this.height):this.height!=this.indicatorHeight&&(this.height=this.indicatorHeight,this.indicatorStyle.height=this.height+"px"),this.x=x,this.y=y,this.indicatorStyle.webkitTransform=this.scroller._getTranslateStr(x,y)},fade:function(val,hold){if(!hold||this.visible){clearTimeout(this.fadeTimeout),this.fadeTimeout=null;var time=val?250:500,delay=val?0:300;val=val?"1":"0",this.wrapperStyle.webkitTransitionDuration=time+"ms",this.fadeTimeout=setTimeout(function(val){this.wrapperStyle.opacity=val,this.visible=+val}.bind(this,val),delay)}}},$.Scroll=Scroll,$.fn.scroll=function(options){var scrollApis=[];return this.each(function(){var scrollApi=null,self=this,id=self.getAttribute("data-scroll");if(id)scrollApi=$.data[id];else{id=++$.uuid;var _options=$.extend({},options);self.classList.contains("mui-segmented-control")&&(_options=$.extend(_options,{scrollY:!1,scrollX:!0,indicators:!1,snap:".mui-control-item"})),$.data[id]=scrollApi=new Scroll(self,_options),self.setAttribute("data-scroll",id)}scrollApis.push(scrollApi)}),1===scrollApis.length?scrollApis[0]:scrollApis}}(mui,window,document),function($,window,document,undefined){var CLASS_VISIBILITY="mui-visibility",CLASS_HIDDEN="mui-hidden",PullRefresh=$.Scroll.extend($.extend({handleEvent:function(e){this._super(e),"scrollbottom"===e.type&&e.target===this.scroller&&this._scrollbottom()},_scrollbottom:function(){this.pulldown||this.loading||(this.pulldown=!1,this._initPullupRefresh(),this.pullupLoading())},_start:function(e){e.touches&&e.touches.length&&e.touches[0].clientX>30&&e.target&&!this._preventDefaultException(e.target,this.options.preventDefaultException)&&e.preventDefault(),this.loading||(this.pulldown=this.pullPocket=this.pullCaption=this.pullLoading=!1),this._super(e)},_drag:function(e){this._super(e),!this.pulldown&&!this.loading&&this.topPocket&&"down"===e.detail.direction&&this.y>=0&&this._initPulldownRefresh(),this.pulldown&&this._setCaption(this.y>this.options.down.height?this.options.down.contentover:this.options.down.contentdown)},_reLayout:function(){this.hasVerticalScroll=!0,this._super()},resetPosition:function(time){if(this.pulldown){if(this.y>=this.options.down.height)return this.pulldownLoading(undefined,time||0),!0;!this.loading&&this.topPocket.classList.remove(CLASS_VISIBILITY)}return this._super(time)},pulldownLoading:function(y,time){if("undefined"==typeof y&&(y=this.options.down.height),this.scrollTo(0,y,time,this.options.bounceEasing),!this.loading){this._initPulldownRefresh(),this._setCaption(this.options.down.contentrefresh),this.loading=!0,this.indicators.map(function(indicator){indicator.fade(0)});var callback=this.options.down.callback;callback&&callback.call(this)}},endPulldownToRefresh:function(){var self=this;self.topPocket&&self.loading&&this.pulldown&&(self.scrollTo(0,0,self.options.bounceTime,self.options.bounceEasing),self.loading=!1,self._setCaption(self.options.down.contentdown,!0),setTimeout(function(){self.loading||self.topPocket.classList.remove(CLASS_VISIBILITY)},350))},pullupLoading:function(callback,x,time){x=x||0,this.scrollTo(x,this.maxScrollY,time,this.options.bounceEasing),this.loading||(this._initPullupRefresh(),this._setCaption(this.options.up.contentrefresh),this.indicators.map(function(indicator){indicator.fade(0)}),this.loading=!0,callback=callback||this.options.up.callback,callback&&callback.call(this))},endPullupToRefresh:function(finished){var self=this;self.bottomPocket&&(self.loading=!1,finished?(this.finished=!0,self._setCaption(self.options.up.contentnomore),self.wrapper.removeEventListener("scrollbottom",self)):(self._setCaption(self.options.up.contentdown),self.loading||self.bottomPocket.classList.remove(CLASS_VISIBILITY)))},disablePullupToRefresh:function(){this._initPullupRefresh(),this.bottomPocket.className="mui-pull-bottom-pocket "+CLASS_HIDDEN,this.wrapper.removeEventListener("scrollbottom",this)},enablePullupToRefresh:function(){this._initPullupRefresh(),this.bottomPocket.classList.remove(CLASS_HIDDEN),this._setCaption(this.options.up.contentdown),this.wrapper.addEventListener("scrollbottom",this)},refresh:function(isReset){isReset&&this.finished&&(this.enablePullupToRefresh(),this.finished=!1),this._super()}},$.PullRefresh));$.fn.pullRefresh=function(options){if(1===this.length){var self=this[0],pullRefreshApi=null;options=options||{};var id=self.getAttribute("data-pullrefresh");return id?pullRefreshApi=$.data[id]:(id=++$.uuid,$.data[id]=pullRefreshApi=new PullRefresh(self,options),self.setAttribute("data-pullrefresh",id)),options.down&&options.down.auto?pullRefreshApi.pulldownLoading(options.down.autoY):options.up&&options.up.auto&&pullRefreshApi.pullupLoading(),pullRefreshApi}}}(mui,window,document),function($,window){var CLASS_SLIDER="mui-slider",CLASS_SLIDER_GROUP="mui-slider-group",CLASS_SLIDER_LOOP="mui-slider-loop",CLASS_ACTION_PREVIOUS="mui-action-previous",CLASS_ACTION_NEXT="mui-action-next",CLASS_SLIDER_ITEM="mui-slider-item",CLASS_ACTIVE="mui-active",SELECTOR_SLIDER_ITEM="."+CLASS_SLIDER_ITEM,SELECTOR_SLIDER_PROGRESS_BAR=".mui-slider-progress-bar",Slider=$.Slider=$.Scroll.extend({init:function(element,options){this._super(element,$.extend(!0,{fingers:1,interval:0,scrollY:!1,scrollX:!0,indicators:!1,scrollTime:1e3,startX:!1,slideTime:0,snap:SELECTOR_SLIDER_ITEM},options)),this.options.startX},_init:function(){for(var groups=this.wrapper.querySelectorAll("."+CLASS_SLIDER_GROUP),i=0,len=groups.length;len>i;i++)if(groups[i].parentNode===this.wrapper){this.scroller=groups[i];break}this.scroller&&(this.scrollerStyle=this.scroller.style,this.progressBar=this.wrapper.querySelector(SELECTOR_SLIDER_PROGRESS_BAR),this.progressBar&&(this.progressBarWidth=this.progressBar.offsetWidth,this.progressBarStyle=this.progressBar.style),this._super(),this._initTimer())},_triggerSlide:function(){var self=this;self.isInTransition=!1;self.currentPage;self.slideNumber=self._fixedSlideNumber(),self.loop&&(0===self.slideNumber?self.setTranslate(self.pages[1][0].x,0):self.slideNumber===self.itemLength-3&&self.setTranslate(self.pages[self.itemLength-2][0].x,0)),self.lastSlideNumber!=self.slideNumber&&(self.lastSlideNumber=self.slideNumber,self.lastPage=self.currentPage,$.trigger(self.wrapper,"slide",{slideNumber:self.slideNumber})),self._initTimer()},_handleSlide:function(e){var self=this;if(e.target===self.wrapper){var detail=e.detail;detail.slideNumber=detail.slideNumber||0;for(var temps=self.scroller.querySelectorAll(SELECTOR_SLIDER_ITEM),items=[],i=0,len=temps.length;len>i;i++){var item=temps[i];item.parentNode===self.scroller&&items.push(item)}var _slideNumber=detail.slideNumber;if(self.loop&&(_slideNumber+=1),!self.wrapper.classList.contains("mui-segmented-control"))for(var i=0,len=items.length;len>i;i++){var item=items[i];item.parentNode===self.scroller&&(i===_slideNumber?item.classList.add(CLASS_ACTIVE):item.classList.remove(CLASS_ACTIVE))}var indicatorWrap=self.wrapper.querySelector(".mui-slider-indicator");if(indicatorWrap){indicatorWrap.getAttribute("data-scroll")&&$(indicatorWrap).scroll().gotoPage(detail.slideNumber);var indicators=indicatorWrap.querySelectorAll(".mui-indicator");if(indicators.length>0)for(var i=0,len=indicators.length;len>i;i++)indicators[i].classList[i===detail.slideNumber?"add":"remove"](CLASS_ACTIVE);else{var number=indicatorWrap.querySelector(".mui-number span");if(number)number.innerText=detail.slideNumber+1;else for(var controlItems=self.wrapper.querySelectorAll(".mui-control-item"),i=0,len=controlItems.length;len>i;i++)controlItems[i].classList[i===detail.slideNumber?"add":"remove"](CLASS_ACTIVE)}}e.stopPropagation()}},_handleTabShow:function(e){var self=this;self.gotoItem(e.detail.tabNumber||0,self.options.slideTime)},_handleIndicatorTap:function(event){var self=this,target=event.target;(target.classList.contains(CLASS_ACTION_PREVIOUS)||target.classList.contains(CLASS_ACTION_NEXT))&&(self[target.classList.contains(CLASS_ACTION_PREVIOUS)?"prevItem":"nextItem"](),event.stopPropagation())},_initEvent:function(detach){var self=this;self._super(detach);var action=detach?"removeEventListener":"addEventListener";self.wrapper[action]("slide",this),self.wrapper[action]($.eventName("shown","tab"),this)},handleEvent:function(e){switch(this._super(e),e.type){case"slide":this._handleSlide(e);break;case $.eventName("shown","tab"):this._handleTabShow(e)}},_scrollend:function(e){this._super(e),this._triggerSlide(e)},_drag:function(e){this._super(e);var direction=e.detail.direction;if("left"===direction||"right"===direction){var slidershowTimer=this.wrapper.getAttribute("data-slidershowTimer");slidershowTimer&&window.clearTimeout(slidershowTimer),e.stopPropagation()}},_initTimer:function(){var self=this,slider=self.wrapper,interval=self.options.interval,slidershowTimer=slider.getAttribute("data-slidershowTimer");slidershowTimer&&window.clearTimeout(slidershowTimer),interval&&(slidershowTimer=window.setTimeout(function(){slider&&((slider.offsetWidth||slider.offsetHeight)&&self.nextItem(!0),self._initTimer())},interval),slider.setAttribute("data-slidershowTimer",slidershowTimer))},_fixedSlideNumber:function(page){page=page||this.currentPage;var slideNumber=page.pageX;return this.loop&&(slideNumber=0===page.pageX?this.itemLength-3:page.pageX===this.itemLength-1?0:page.pageX-1),slideNumber},_reLayout:function(){this.hasHorizontalScroll=!0,this.loop=this.scroller.classList.contains(CLASS_SLIDER_LOOP),this._super()},_getScroll:function(){var result=$.parseTranslateMatrix($.getStyles(this.scroller,"webkitTransform"));return result?result.x:0},_transitionEnd:function(e){e.target===this.scroller&&this.isInTransition&&(this._transitionTime(),this.isInTransition=!1,$.trigger(this.wrapper,"scrollend",this))},_flick:function(e){if(this.moved){var detail=e.detail,direction=detail.direction;this._clearRequestAnimationFrame(),this.isInTransition=!0,"flick"===e.type?(detail.deltaTime<200&&(this.x=this._getPage(this.slideNumber+("right"===direction?-1:1),!0).x),this.resetPosition(this.options.bounceTime)):"dragend"!==e.type||detail.flick||this.resetPosition(this.options.bounceTime),e.stopPropagation()}},_initSnap:function(){if(this.scrollerWidth=this.itemLength*this.scrollerWidth,this.maxScrollX=Math.min(this.wrapperWidth-this.scrollerWidth,0),this._super(),this.currentPage.x)this.slideNumber=this._fixedSlideNumber(),this.lastSlideNumber="undefined"==typeof this.lastSlideNumber?this.slideNumber:this.lastSlideNumber;else{var currentPage=this.pages[this.loop?1:0];if(currentPage=currentPage||this.pages[0],!currentPage)return;this.currentPage=currentPage[0],this.slideNumber=0,this.lastSlideNumber="undefined"==typeof this.lastSlideNumber?0:this.lastSlideNumber}this.options.startX=this.currentPage.x||0},_getSnapX:function(offsetLeft){return Math.max(-offsetLeft,this.maxScrollX)},_getPage:function(slideNumber,isFlick){return this.loop?slideNumber>this.itemLength-(isFlick?2:3)?(slideNumber=1,time=0):(isFlick?-1:0)>slideNumber?(slideNumber=this.itemLength-2,time=0):slideNumber+=1:(isFlick||(slideNumber>this.itemLength-1?(slideNumber=0,time=0):0>slideNumber&&(slideNumber=this.itemLength-1,time=0)),slideNumber=Math.min(Math.max(0,slideNumber),this.itemLength-1)),this.pages[slideNumber][0]},_gotoItem:function(slideNumber,time){this.currentPage=this._getPage(slideNumber,!0),this.scrollTo(this.currentPage.x,0,time,this.options.scrollEasing),0===time&&$.trigger(this.wrapper,"scrollend",this)},setTranslate:function(x,y){this._super(x,y);var progressBar=this.progressBar;progressBar&&(this.progressBarStyle.webkitTransform=this._getTranslateStr(-x*(this.progressBarWidth/this.wrapperWidth),0))},resetPosition:function(time){return time=time||0,this.x>0?this.x=0:this.x<this.maxScrollX&&(this.x=this.maxScrollX),this.currentPage=this._nearestSnap(this.x),this.scrollTo(this.currentPage.x,0,time,this.options.scrollEasing),!0},gotoItem:function(slideNumber,time){this._gotoItem(slideNumber,"undefined"==typeof time?this.options.scrollTime:time)},nextItem:function(){this._gotoItem(this.slideNumber+1,this.options.scrollTime)},prevItem:function(){this._gotoItem(this.slideNumber-1,this.options.scrollTime)},getSlideNumber:function(){return this.slideNumber||0},refresh:function(options){options?($.extend(this.options,options),this._super(),this._initTimer()):this._super()},destroy:function(){this._initEvent(!0),delete $.data[this.wrapper.getAttribute("data-slider")],this.wrapper.setAttribute("data-slider","")}});$.fn.slider=function(options){var slider=null;return this.each(function(){var sliderElement=this;if(this.classList.contains(CLASS_SLIDER)||(sliderElement=this.querySelector("."+CLASS_SLIDER)),sliderElement&&sliderElement.querySelector(SELECTOR_SLIDER_ITEM)){var id=sliderElement.getAttribute("data-slider");id?(slider=$.data[id],slider&&options&&slider.refresh(options)):(id=++$.uuid,$.data[id]=slider=new Slider(sliderElement,options),sliderElement.setAttribute("data-slider",id))}}),slider},$.ready(function(){$(".mui-slider").slider(),$(".mui-scroll-wrapper.mui-slider-indicator.mui-segmented-control").scroll({scrollY:!1,scrollX:!0,indicators:!1,snap:".mui-control-item"})})}(mui,window),function($,document){if($.os.plus&&$.os.android){var CLASS_PLUS_PULLREFRESH="mui-plus-pullrefresh",CLASS_VISIBILITY="mui-visibility",CLASS_HIDDEN="mui-hidden",CLASS_BLOCK="mui-block",CLASS_PULL_CAPTION="mui-pull-caption",CLASS_PULL_CAPTION_DOWN="mui-pull-caption-down",CLASS_PULL_CAPTION_REFRESH="mui-pull-caption-refresh",CLASS_PULL_CAPTION_NOMORE="mui-pull-caption-nomore",PlusPullRefresh=$.Class.extend({init:function(element,options){this.element=element,this.options=options,this.wrapper=this.scroller=element,this._init(),this._initPulldownRefreshEvent()},_init:function(){var self=this;window.addEventListener("dragup",self),document.addEventListener("plusscrollbottom",self),self.scrollInterval=window.setInterval(function(){self.isScroll&&!self.loading&&window.pageYOffset+window.innerHeight+10>=document.documentElement.scrollHeight&&(self.isScroll=!1,self.bottomPocket&&self.pullupLoading())},100)},_initPulldownRefreshEvent:function(){var self=this;self.topPocket&&self.options.webviewId&&$.plusReady(function(){var webview=plus.webview.getWebviewById(self.options.webviewId);if(webview){self.options.webview=webview;var downOptions=self.options.down,height=downOptions.height;webview.addEventListener("dragBounce",function(e){switch(self.pulldown?self.pullPocket.classList.add(CLASS_BLOCK):self._initPulldownRefresh(),e.status){case"beforeChangeOffset":self._setCaption(downOptions.contentdown);break;case"afterChangeOffset":self._setCaption(downOptions.contentover);break;case"dragEndAfterChangeOffset":webview.evalJS("mui&&mui.options.pullRefresh.down.callback()"),self._setCaption(downOptions.contentrefresh)}},!1),webview.setBounce({position:{top:2*height+"px"},changeoffset:{top:height+"px"}})}})},handleEvent:function(e){var self=this;self.stopped||(self.isScroll=!1,"dragup"!==e.type&&"plusscrollbottom"!==e.type||(self.isScroll=!0,setTimeout(function(){self.isScroll=!1},1e3)))}}).extend($.extend({setStopped:function(stopped){this.stopped=!!stopped;var webview=plus.webview.currentWebview();if(this.stopped)webview.setStyle({bounce:"none"}),webview.setBounce({position:{top:"none"}});else{var height=this.options.down.height;webview.setStyle({bounce:"vertical"}),webview.setBounce({position:{top:2*height+"px"},changeoffset:{top:height+"px"}})}},pulldownLoading:function(){$.plusReady(function(){plus.webview.currentWebview().setBounce({offset:{top:this.options.down.height+"px"}})}.bind(this));var callback=$.options.pullRefresh.down.callback;callback&&callback.call(this)},endPulldownToRefresh:function(){var webview=plus.webview.currentWebview();webview.parent().evalJS("mui&&mui(document.querySelector('.mui-content')).pullRefresh('"+JSON.stringify({webviewId:webview.id})+"')._endPulldownToRefresh()")},_endPulldownToRefresh:function(){var self=this;self.topPocket&&self.options.webview&&(self.options.webview.endPullToRefresh(),self.loading=!1,self._setCaption(self.options.down.contentdown,!0),setTimeout(function(){self.loading||self.topPocket.classList.remove(CLASS_BLOCK)},350))},pullupLoading:function(callback){var self=this;self.isLoading||(self.isLoading=!0,self.pulldown!==!1?self._initPullupRefresh():this.pullPocket.classList.add(CLASS_BLOCK),setTimeout(function(){self.pullLoading.classList.add(CLASS_VISIBILITY),self.pullLoading.classList.remove(CLASS_HIDDEN),self.pullCaption.innerHTML="",self.pullCaption.className=CLASS_PULL_CAPTION+" "+CLASS_PULL_CAPTION_REFRESH,self.pullCaption.innerHTML=self.options.up.contentrefresh,callback=callback||self.options.up.callback,callback&&callback.call(self)},300))},endPullupToRefresh:function(finished){var self=this;self.pullLoading&&(self.pullLoading.classList.remove(CLASS_VISIBILITY),self.pullLoading.classList.add(CLASS_HIDDEN),self.isLoading=!1,finished?(self.finished=!0,self.pullCaption.className=CLASS_PULL_CAPTION+" "+CLASS_PULL_CAPTION_NOMORE,self.pullCaption.innerHTML=self.options.up.contentnomore,document.removeEventListener("plusscrollbottom",self),window.removeEventListener("dragup",self)):(self.pullCaption.className=CLASS_PULL_CAPTION+" "+CLASS_PULL_CAPTION_DOWN,self.pullCaption.innerHTML=self.options.up.contentdown))},disablePullupToRefresh:function(){this._initPullupRefresh(),this.bottomPocket.className="mui-pull-bottom-pocket "+CLASS_HIDDEN,window.removeEventListener("dragup",this)},enablePullupToRefresh:function(){this._initPullupRefresh(),this.bottomPocket.classList.remove(CLASS_HIDDEN),this.pullCaption.className=CLASS_PULL_CAPTION+" "+CLASS_PULL_CAPTION_DOWN,this.pullCaption.innerHTML=this.options.up.contentdown,document.addEventListener("plusscrollbottom",this),window.addEventListener("dragup",this)},scrollTo:function(x,y,time){$.scrollTo(y,time)},refresh:function(isReset){isReset&&this.finished&&(this.enablePullupToRefresh(),this.finished=!1)}},$.PullRefresh));$.fn.pullRefresh=function(options){var self;0===this.length?(self=document.createElement("div"),self.className="mui-content",document.body.appendChild(self)):self=this[0],options=options||{},"string"==typeof options&&(options=$.parseJSON(options)),!options.webviewId&&(options.webviewId=plus.webview.currentWebview().id||plus.webview.currentWebview().getURL());var pullRefreshApi=null,attrWebviewId=options.webviewId&&options.webviewId.replace(/\//g,"_"),id=self.getAttribute("data-pullrefresh-plus-"+attrWebviewId);return id?pullRefreshApi=$.data[id]:(id=++$.uuid,self.setAttribute("data-pullrefresh-plus-"+attrWebviewId,id),document.body.classList.add(CLASS_PLUS_PULLREFRESH),$.data[id]=pullRefreshApi=new PlusPullRefresh(self,options)),options.down&&options.down.auto?pullRefreshApi.pulldownLoading():options.up&&options.up.auto&&pullRefreshApi.pullupLoading(),pullRefreshApi}}}(mui,document),function($,window,document,name){var CLASS_OFF_CANVAS_LEFT="mui-off-canvas-left",CLASS_OFF_CANVAS_RIGHT="mui-off-canvas-right",CLASS_ACTION_BACKDROP="mui-off-canvas-backdrop",CLASS_OFF_CANVAS_WRAP="mui-off-canvas-wrap",CLASS_SLIDE_IN="mui-slide-in",CLASS_ACTIVE="mui-active",CLASS_TRANSITIONING="mui-transitioning",SELECTOR_INNER_WRAP=".mui-inner-wrap",OffCanvas=$.Class.extend({init:function(element,options){this.wrapper=this.element=element,this.scroller=this.wrapper.querySelector(SELECTOR_INNER_WRAP),this.classList=this.wrapper.classList,this.scroller&&(this.options=$.extend(!0,{dragThresholdX:10,scale:.8,opacity:.1,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT|VIDEO)$/}},options),document.body.classList.add("mui-fullscreen"),this.refresh(),this.initEvent())},_preventDefaultException:function(el,exceptions){for(var i in exceptions)if(exceptions[i].test(el[i]))return!0;return!1},refresh:function(offCanvas){this.slideIn=this.classList.contains(CLASS_SLIDE_IN),this.scalable=this.classList.contains("mui-scalable")&&!this.slideIn,this.scroller=this.wrapper.querySelector(SELECTOR_INNER_WRAP),this.offCanvasLefts=this.wrapper.querySelectorAll("."+CLASS_OFF_CANVAS_LEFT),this.offCanvasRights=this.wrapper.querySelectorAll("."+CLASS_OFF_CANVAS_RIGHT),offCanvas?offCanvas.classList.contains(CLASS_OFF_CANVAS_LEFT)?this.offCanvasLeft=offCanvas:offCanvas.classList.contains(CLASS_OFF_CANVAS_RIGHT)&&(this.offCanvasRight=offCanvas):(this.offCanvasRight=this.wrapper.querySelector("."+CLASS_OFF_CANVAS_RIGHT),this.offCanvasLeft=this.wrapper.querySelector("."+CLASS_OFF_CANVAS_LEFT)),this.offCanvasRightWidth=this.offCanvasLeftWidth=0,this.offCanvasLeftSlideIn=this.offCanvasRightSlideIn=!1,this.offCanvasRight&&(this.offCanvasRightWidth=this.offCanvasRight.offsetWidth,this.offCanvasRightSlideIn=this.slideIn&&this.offCanvasRight.parentNode===this.wrapper),this.offCanvasLeft&&(this.offCanvasLeftWidth=this.offCanvasLeft.offsetWidth,this.offCanvasLeftSlideIn=this.slideIn&&this.offCanvasLeft.parentNode===this.wrapper),this.backdrop=this.scroller.querySelector("."+CLASS_ACTION_BACKDROP),this.options.dragThresholdX=this.options.dragThresholdX||10,this.visible=!1,this.startX=null,this.lastX=null,this.offsetX=null,this.lastTranslateX=null},handleEvent:function(e){switch(e.type){case $.EVENT_START:e.target&&!this._preventDefaultException(e.target,this.options.preventDefaultException)&&e.preventDefault();break;case"webkitTransitionEnd":e.target===this.scroller&&this._dispatchEvent();break;case"drag":var detail=e.detail;this.startX?this.lastX=detail.center.x:(this.startX=detail.center.x,this.lastX=this.startX),!this.isDragging&&Math.abs(this.lastX-this.startX)>this.options.dragThresholdX&&("left"===detail.direction||"right"===detail.direction)&&(this.slideIn?(this.scroller=this.wrapper.querySelector(SELECTOR_INNER_WRAP),this.classList.contains(CLASS_ACTIVE)?this.offCanvasRight&&this.offCanvasRight.classList.contains(CLASS_ACTIVE)?(this.offCanvas=this.offCanvasRight,this.offCanvasWidth=this.offCanvasRightWidth):(this.offCanvas=this.offCanvasLeft,this.offCanvasWidth=this.offCanvasLeftWidth):"left"===detail.direction&&this.offCanvasRight?(this.offCanvas=this.offCanvasRight,
this.offCanvasWidth=this.offCanvasRightWidth):"right"===detail.direction&&this.offCanvasLeft?(this.offCanvas=this.offCanvasLeft,this.offCanvasWidth=this.offCanvasLeftWidth):this.scroller=null):this.classList.contains(CLASS_ACTIVE)?"left"===detail.direction?(this.offCanvas=this.offCanvasLeft,this.offCanvasWidth=this.offCanvasLeftWidth):(this.offCanvas=this.offCanvasRight,this.offCanvasWidth=this.offCanvasRightWidth):"right"===detail.direction?(this.offCanvas=this.offCanvasLeft,this.offCanvasWidth=this.offCanvasLeftWidth):(this.offCanvas=this.offCanvasRight,this.offCanvasWidth=this.offCanvasRightWidth),this.offCanvas&&this.scroller&&(this.startX=this.lastX,this.isDragging=!0,$.gestures.session.lockDirection=!0,$.gestures.session.startDirection=detail.direction,this.offCanvas.classList.remove(CLASS_TRANSITIONING),this.scroller.classList.remove(CLASS_TRANSITIONING),this.offsetX=this.getTranslateX(),this._initOffCanvasVisible())),this.isDragging&&(this.updateTranslate(this.offsetX+(this.lastX-this.startX)),detail.gesture.preventDefault(),e.stopPropagation());break;case"dragend":if(this.isDragging){var detail=e.detail,direction=detail.direction;this.isDragging=!1,this.offCanvas.classList.add(CLASS_TRANSITIONING),this.scroller.classList.add(CLASS_TRANSITIONING);var ratio=0,x=this.getTranslateX();if(this.slideIn){if(ratio=x>=0?this.offCanvasRightWidth&&x/this.offCanvasRightWidth||0:this.offCanvasLeftWidth&&x/this.offCanvasLeftWidth||0,"right"===direction&&0>=ratio&&(ratio>=-.5||detail.swipe)?this.openPercentage(100):"right"===direction&&ratio>0&&(ratio>=.5||detail.swipe)?this.openPercentage(0):"right"===direction&&-.5>=ratio?this.openPercentage(0):"right"===direction&&ratio>0&&.5>=ratio?this.openPercentage(-100):"left"===direction&&ratio>=0&&(.5>=ratio||detail.swipe)?this.openPercentage(-100):"left"===direction&&0>ratio&&(-.5>=ratio||detail.swipe)?this.openPercentage(0):"left"===direction&&ratio>=.5?this.openPercentage(0):"left"===direction&&ratio>=-.5&&0>ratio?this.openPercentage(100):this.openPercentage(0),1===ratio||-1===ratio||0===ratio)return void this._dispatchEvent()}else{if(ratio=x>=0?this.offCanvasLeftWidth&&x/this.offCanvasLeftWidth||0:this.offCanvasRightWidth&&x/this.offCanvasRightWidth||0,0===ratio)return this.openPercentage(0),void this._dispatchEvent();"right"===direction&&ratio>=0&&(ratio>=.5||detail.swipe)?this.openPercentage(100):"right"===direction&&0>ratio&&(ratio>-.5||detail.swipe)?this.openPercentage(0):"right"===direction&&ratio>0&&.5>ratio?this.openPercentage(0):"right"===direction&&.5>ratio?this.openPercentage(-100):"left"===direction&&0>=ratio&&(-.5>=ratio||detail.swipe)?this.openPercentage(-100):"left"===direction&&ratio>0&&(.5>=ratio||detail.swipe)?this.openPercentage(0):"left"===direction&&0>ratio&&ratio>=-.5?this.openPercentage(0):"left"===direction&&ratio>.5?this.openPercentage(100):this.openPercentage(0),1!==ratio&&-1!==ratio||this._dispatchEvent()}}}},_dispatchEvent:function(){this.classList.contains(CLASS_ACTIVE)?$.trigger(this.wrapper,"shown",this):$.trigger(this.wrapper,"hidden",this)},_initOffCanvasVisible:function(){this.visible||(this.visible=!0,this.offCanvasLeft&&(this.offCanvasLeft.style.visibility="visible"),this.offCanvasRight&&(this.offCanvasRight.style.visibility="visible"))},initEvent:function(){var self=this;self.backdrop&&self.backdrop.addEventListener("tap",function(e){self.close(),e.detail.gesture.preventDefault()}),this.classList.contains("mui-draggable")&&(this.wrapper.addEventListener($.EVENT_START,this),this.wrapper.addEventListener("drag",this),this.wrapper.addEventListener("dragend",this)),this.wrapper.addEventListener("webkitTransitionEnd",this)},openPercentage:function(percentage){var p=percentage/100;this.slideIn?(this.offCanvasLeft&&percentage>=0?(p=0===p?-1:0,this.updateTranslate(this.offCanvasLeftWidth*p),this.offCanvasLeft.classList[0!==percentage?"add":"remove"](CLASS_ACTIVE)):this.offCanvasRight&&0>=percentage&&(p=0===p?1:0,this.updateTranslate(this.offCanvasRightWidth*p),this.offCanvasRight.classList[0!==percentage?"add":"remove"](CLASS_ACTIVE)),this.classList[0!==percentage?"add":"remove"](CLASS_ACTIVE)):(this.offCanvasLeft&&percentage>=0?(this.updateTranslate(this.offCanvasLeftWidth*p),this.offCanvasLeft.classList[0!==p?"add":"remove"](CLASS_ACTIVE)):this.offCanvasRight&&0>=percentage&&(this.updateTranslate(this.offCanvasRightWidth*p),this.offCanvasRight.classList[0!==p?"add":"remove"](CLASS_ACTIVE)),this.classList[0!==p?"add":"remove"](CLASS_ACTIVE))},updateTranslate:function(x){if(x!==this.lastTranslateX){if(this.slideIn){if(this.offCanvas.classList.contains(CLASS_OFF_CANVAS_RIGHT)){if(0>x)return void this.setTranslateX(0);if(x>this.offCanvasRightWidth)return void this.setTranslateX(this.offCanvasRightWidth)}else{if(x>0)return void this.setTranslateX(0);if(x<-this.offCanvasLeftWidth)return void this.setTranslateX(-this.offCanvasLeftWidth)}this.setTranslateX(x)}else{if(!this.offCanvasLeft&&x>0||!this.offCanvasRight&&0>x)return void this.setTranslateX(0);if(this.leftShowing&&x>this.offCanvasLeftWidth)return void this.setTranslateX(this.offCanvasLeftWidth);if(this.rightShowing&&x<-this.offCanvasRightWidth)return void this.setTranslateX(-this.offCanvasRightWidth);this.setTranslateX(x),x>=0?(this.leftShowing=!0,this.rightShowing=!1,x>0&&(this.offCanvasLeft&&$.each(this.offCanvasLefts,function(index,offCanvas){offCanvas===this.offCanvasLeft?this.offCanvasLeft.style.zIndex=0:offCanvas.style.zIndex=-1}.bind(this)),this.offCanvasRight&&(this.offCanvasRight.style.zIndex=-1))):(this.rightShowing=!0,this.leftShowing=!1,this.offCanvasRight&&$.each(this.offCanvasRights,function(index,offCanvas){offCanvas===this.offCanvasRight?offCanvas.style.zIndex=0:offCanvas.style.zIndex=-1}.bind(this)),this.offCanvasLeft&&(this.offCanvasLeft.style.zIndex=-1))}this.lastTranslateX=x}},setTranslateX:$.animationFrame(function(x){if(this.scroller)if(this.scalable&&this.offCanvas.parentNode===this.wrapper){var percent=Math.abs(x)/this.offCanvasWidth,zoomOutScale=1-(1-this.options.scale)*percent,zoomInScale=this.options.scale+(1-this.options.scale)*percent,zoomInOpacity=(1-(1-this.options.opacity)*percent,this.options.opacity+(1-this.options.opacity)*percent);this.offCanvas.classList.contains(CLASS_OFF_CANVAS_LEFT)?(this.offCanvas.style.webkitTransformOrigin="-100%",this.scroller.style.webkitTransformOrigin="left"):(this.offCanvas.style.webkitTransformOrigin="200%",this.scroller.style.webkitTransformOrigin="right"),this.offCanvas.style.opacity=zoomInOpacity,this.offCanvas.style.webkitTransform="translate3d(0,0,0) scale("+zoomInScale+")",this.scroller.style.webkitTransform="translate3d("+x+"px,0,0) scale("+zoomOutScale+")"}else this.slideIn?this.offCanvas.style.webkitTransform="translate3d("+x+"px,0,0)":this.scroller.style.webkitTransform="translate3d("+x+"px,0,0)"}),getTranslateX:function(){if(this.offCanvas){var scroller=this.slideIn?this.offCanvas:this.scroller,result=$.parseTranslateMatrix($.getStyles(scroller,"webkitTransform"));return result&&result.x||0}return 0},isShown:function(direction){var shown=!1;if(this.slideIn)shown="left"===direction?this.classList.contains(CLASS_ACTIVE)&&this.wrapper.querySelector("."+CLASS_OFF_CANVAS_LEFT+"."+CLASS_ACTIVE):"right"===direction?this.classList.contains(CLASS_ACTIVE)&&this.wrapper.querySelector("."+CLASS_OFF_CANVAS_RIGHT+"."+CLASS_ACTIVE):this.classList.contains(CLASS_ACTIVE)&&(this.wrapper.querySelector("."+CLASS_OFF_CANVAS_LEFT+"."+CLASS_ACTIVE)||this.wrapper.querySelector("."+CLASS_OFF_CANVAS_RIGHT+"."+CLASS_ACTIVE));else{var x=this.getTranslateX();shown="right"===direction?this.classList.contains(CLASS_ACTIVE)&&0>x:"left"===direction?this.classList.contains(CLASS_ACTIVE)&&x>0:this.classList.contains(CLASS_ACTIVE)&&0!==x}return shown},close:function(){this._initOffCanvasVisible(),this.offCanvas=this.wrapper.querySelector("."+CLASS_OFF_CANVAS_RIGHT+"."+CLASS_ACTIVE)||this.wrapper.querySelector("."+CLASS_OFF_CANVAS_LEFT+"."+CLASS_ACTIVE),this.offCanvasWidth=this.offCanvas.offsetWidth,this.scroller&&(this.offCanvas.offsetHeight,this.offCanvas.classList.add(CLASS_TRANSITIONING),this.scroller.classList.add(CLASS_TRANSITIONING),this.openPercentage(0))},show:function(direction){return this._initOffCanvasVisible(),this.isShown(direction)?!1:(direction||(direction=this.wrapper.querySelector("."+CLASS_OFF_CANVAS_RIGHT)?"right":"left"),"right"===direction?(this.offCanvas=this.offCanvasRight,this.offCanvasWidth=this.offCanvasRightWidth):(this.offCanvas=this.offCanvasLeft,this.offCanvasWidth=this.offCanvasLeftWidth),this.scroller&&(this.offCanvas.offsetHeight,this.offCanvas.classList.add(CLASS_TRANSITIONING),this.scroller.classList.add(CLASS_TRANSITIONING),this.openPercentage("left"===direction?100:-100)),!0)},toggle:function(directionOrOffCanvas){var direction=directionOrOffCanvas;directionOrOffCanvas&&directionOrOffCanvas.classList&&(direction=directionOrOffCanvas.classList.contains(CLASS_OFF_CANVAS_LEFT)?"left":"right",this.refresh(directionOrOffCanvas)),this.show(direction)||this.close()}}),findOffCanvasContainer=function(target){if(parentNode=target.parentNode,parentNode){if(parentNode.classList.contains(CLASS_OFF_CANVAS_WRAP))return parentNode;if(parentNode=parentNode.parentNode,parentNode.classList.contains(CLASS_OFF_CANVAS_WRAP))return parentNode}},handle=function(event,target){if("A"===target.tagName&&target.hash){var offcanvas=document.getElementById(target.hash.replace("#",""));if(offcanvas){var container=findOffCanvasContainer(offcanvas);if(container)return $.targets._container=container,offcanvas}}return!1};$.registerTarget({name:name,index:60,handle:handle,target:!1,isReset:!1,isContinue:!0}),window.addEventListener("tap",function(e){if($.targets.offcanvas)for(var target=e.target;target&&target!==document;target=target.parentNode)if("A"===target.tagName&&target.hash&&target.hash==="#"+$.targets.offcanvas.id){e.detail&&e.detail.gesture&&e.detail.gesture.preventDefault(),$($.targets._container).offCanvas().toggle($.targets.offcanvas),$.targets.offcanvas=$.targets._container=null;break}}),$.fn.offCanvas=function(options){var offCanvasApis=[];return this.each(function(){var offCanvasApi=null,self=this;self.classList.contains(CLASS_OFF_CANVAS_WRAP)||(self=findOffCanvasContainer(self));var id=self.getAttribute("data-offCanvas");id?offCanvasApi=$.data[id]:(id=++$.uuid,$.data[id]=offCanvasApi=new OffCanvas(self,options),self.setAttribute("data-offCanvas",id)),"show"!==options&&"close"!==options&&"toggle"!==options||offCanvasApi.toggle(),offCanvasApis.push(offCanvasApi)}),1===offCanvasApis.length?offCanvasApis[0]:offCanvasApis},$.ready(function(){$(".mui-off-canvas-wrap").offCanvas()})}(mui,window,document,"offcanvas"),function($,name){var CLASS_ACTION="mui-action",handle=function(event,target){var className=target.className||"";return"string"!=typeof className&&(className=""),className&&~className.indexOf(CLASS_ACTION)?(target.classList.contains("mui-action-back")&&event.preventDefault(),target):!1};$.registerTarget({name:name,index:50,handle:handle,target:!1,isContinue:!0})}(mui,"action"),function($,window,document,name){var CLASS_MODAL="mui-modal",handle=function(event,target){if("A"===target.tagName&&target.hash){var modal=document.getElementById(target.hash.replace("#",""));if(modal&&modal.classList.contains(CLASS_MODAL))return modal}return!1};$.registerTarget({name:name,index:50,handle:handle,target:!1,isReset:!1,isContinue:!0}),window.addEventListener("tap",function(event){$.targets.modal&&(event.detail.gesture.preventDefault(),$.targets.modal.classList.toggle("mui-active"))})}(mui,window,document,"modal"),function($,window,document,name){var CLASS_POPOVER="mui-popover",CLASS_POPOVER_ARROW="mui-popover-arrow",CLASS_ACTION_POPOVER="mui-popover-action",CLASS_BACKDROP="mui-backdrop",CLASS_BAR_POPOVER="mui-bar-popover",CLASS_BAR_BACKDROP="mui-bar-backdrop",CLASS_ACTION_BACKDROP="mui-backdrop-action",CLASS_ACTIVE="mui-active",CLASS_BOTTOM="mui-bottom",handle=function(event,target){if("A"===target.tagName&&target.hash){if($.targets._popover=document.getElementById(target.hash.replace("#","")),$.targets._popover&&$.targets._popover.classList.contains(CLASS_POPOVER))return target;$.targets._popover=null}return!1};$.registerTarget({name:name,index:60,handle:handle,target:!1,isReset:!1,isContinue:!0});var removeBackdropTimer,fixedPopoverScroll=function(isPopoverScroll){},onPopoverShown=function(e){this.removeEventListener("webkitTransitionEnd",onPopoverShown),this.addEventListener($.EVENT_MOVE,$.preventDefault),$.trigger(this,"shown",this)},onPopoverHidden=function(e){setStyle(this,"none"),this.removeEventListener("webkitTransitionEnd",onPopoverHidden),this.removeEventListener($.EVENT_MOVE,$.preventDefault),fixedPopoverScroll(!1),$.trigger(this,"hidden",this)},backdrop=function(){var element=document.createElement("div");return element.classList.add(CLASS_BACKDROP),element.addEventListener($.EVENT_MOVE,$.preventDefault),element.addEventListener("tap",function(e){var popover=$.targets._popover;popover&&(popover.addEventListener("webkitTransitionEnd",onPopoverHidden),popover.classList.remove(CLASS_ACTIVE),removeBackdrop(popover),document.body.setAttribute("style",""))}),element}(),removeBackdrop=function(popover){backdrop.setAttribute("style","opacity:0"),$.targets.popover=$.targets._popover=null,removeBackdropTimer=$.later(function(){!popover.classList.contains(CLASS_ACTIVE)&&backdrop.parentNode&&backdrop.parentNode===document.body&&document.body.removeChild(backdrop)},350)};window.addEventListener("tap",function(e){if($.targets.popover){for(var toggle=!1,target=e.target;target&&target!==document;target=target.parentNode)target===$.targets.popover&&(toggle=!0);toggle&&(e.detail.gesture.preventDefault(),togglePopover($.targets._popover,$.targets.popover))}});var togglePopover=function(popover,anchor,state){if(!("show"===state&&popover.classList.contains(CLASS_ACTIVE)||"hide"===state&&!popover.classList.contains(CLASS_ACTIVE))){removeBackdropTimer&&removeBackdropTimer.cancel(),popover.removeEventListener("webkitTransitionEnd",onPopoverShown),popover.removeEventListener("webkitTransitionEnd",onPopoverHidden),backdrop.classList.remove(CLASS_BAR_BACKDROP),backdrop.classList.remove(CLASS_ACTION_BACKDROP);var _popover=document.querySelector(".mui-popover.mui-active");if(_popover&&(_popover.addEventListener("webkitTransitionEnd",onPopoverHidden),_popover.classList.remove(CLASS_ACTIVE),popover===_popover))return void removeBackdrop(_popover);var isActionSheet=!1;(popover.classList.contains(CLASS_BAR_POPOVER)||popover.classList.contains(CLASS_ACTION_POPOVER))&&(popover.classList.contains(CLASS_ACTION_POPOVER)?(isActionSheet=!0,backdrop.classList.add(CLASS_ACTION_BACKDROP)):backdrop.classList.add(CLASS_BAR_BACKDROP)),setStyle(popover,"block"),popover.offsetHeight,popover.classList.add(CLASS_ACTIVE),backdrop.setAttribute("style",""),document.body.appendChild(backdrop),fixedPopoverScroll(!0),calPosition(popover,anchor,isActionSheet),backdrop.classList.add(CLASS_ACTIVE),popover.addEventListener("webkitTransitionEnd",onPopoverShown)}},setStyle=function(popover,display,top,left){var style=popover.style;"undefined"!=typeof display&&(style.display=display),"undefined"!=typeof top&&(style.top=top+"px"),"undefined"!=typeof left&&(style.left=left+"px")},calPosition=function(popover,anchor,isActionSheet){if(popover&&anchor){if(isActionSheet)return void setStyle(popover,"block");var wWidth=window.innerWidth,wHeight=window.innerHeight,pWidth=popover.offsetWidth,pHeight=popover.offsetHeight,aWidth=anchor.offsetWidth,aHeight=anchor.offsetHeight,offset=$.offset(anchor),arrow=popover.querySelector("."+CLASS_POPOVER_ARROW);arrow||(arrow=document.createElement("div"),arrow.className=CLASS_POPOVER_ARROW,popover.appendChild(arrow));var arrowSize=arrow&&arrow.offsetWidth/2||0,pTop=0,pLeft=0,diff=0,arrowLeft=0,defaultPadding=popover.classList.contains(CLASS_ACTION_POPOVER)?0:5,position="top";pHeight+arrowSize<offset.top-window.pageYOffset?pTop=offset.top-pHeight-arrowSize:pHeight+arrowSize<wHeight-(offset.top-window.pageYOffset)-aHeight?(position="bottom",pTop=offset.top+aHeight+arrowSize):(position="middle",pTop=Math.max((wHeight-pHeight)/2+window.pageYOffset,0),pLeft=Math.max((wWidth-pWidth)/2+window.pageXOffset,0)),"top"===position||"bottom"===position?(pLeft=aWidth/2+offset.left-pWidth/2,diff=pLeft,defaultPadding>pLeft&&(pLeft=defaultPadding),pLeft+pWidth>wWidth&&(pLeft=wWidth-pWidth-defaultPadding),arrow&&("top"===position?arrow.classList.add(CLASS_BOTTOM):arrow.classList.remove(CLASS_BOTTOM),diff-=pLeft,arrowLeft=pWidth/2-arrowSize/2+diff,arrowLeft=Math.max(Math.min(arrowLeft,pWidth-2*arrowSize-6),6),arrow.setAttribute("style","left:"+arrowLeft+"px"))):"middle"===position&&arrow.setAttribute("style","display:none"),setStyle(popover,"block",pTop,pLeft)}};$.createMask=function(callback){var element=document.createElement("div");element.classList.add(CLASS_BACKDROP),element.addEventListener($.EVENT_MOVE,$.preventDefault),element.addEventListener("tap",function(){mask.close()});var mask=[element];return mask._show=!1,mask.show=function(){return mask._show=!0,element.setAttribute("style","opacity:1"),document.body.appendChild(element),mask},mask._remove=function(){return mask._show&&(mask._show=!1,element.setAttribute("style","opacity:0"),$.later(function(){var body=document.body;element.parentNode===body&&body.removeChild(element)},350)),mask},mask.close=function(){callback?callback()!==!1&&mask._remove():mask._remove()},mask},$.fn.popover=function(){var args=arguments;this.each(function(){$.targets._popover=this,"show"!==args[0]&&"hide"!==args[0]&&"toggle"!==args[0]||togglePopover(this,args[1],args[0])})}}(mui,window,document,"popover"),function($,window,document,name,undefined){var CLASS_CONTROL_ITEM="mui-control-item",CLASS_SEGMENTED_CONTROL="mui-segmented-control",CLASS_SEGMENTED_CONTROL_VERTICAL="mui-segmented-control-vertical",CLASS_CONTROL_CONTENT="mui-control-content",CLASS_TAB_BAR="mui-bar-tab",CLASS_TAB_ITEM="mui-tab-item",handle=function(event,target){return target.classList&&(target.classList.contains(CLASS_CONTROL_ITEM)||target.classList.contains(CLASS_TAB_ITEM))?(target.parentNode&&target.parentNode.classList&&target.parentNode.classList.contains(CLASS_SEGMENTED_CONTROL_VERTICAL)||event.preventDefault(),target):!1};$.registerTarget({name:name,index:80,handle:handle,target:!1}),window.addEventListener("tap",function(e){var targetTab=$.targets.tab;if(targetTab){for(var activeTab,activeBodies,targetBody,className="mui-active",classSelector="."+className,segmentedControl=targetTab.parentNode;segmentedControl&&segmentedControl!==document;segmentedControl=segmentedControl.parentNode){if(segmentedControl.classList.contains(CLASS_SEGMENTED_CONTROL)){activeTab=segmentedControl.querySelector(classSelector+"."+CLASS_CONTROL_ITEM);break}segmentedControl.classList.contains(CLASS_TAB_BAR)&&(activeTab=segmentedControl.querySelector(classSelector+"."+CLASS_TAB_ITEM))}activeTab&&activeTab.classList.remove(className);var isLastActive=targetTab===activeTab;if(targetTab&&targetTab.classList.add(className),targetTab.hash&&(targetBody=document.getElementById(targetTab.hash.replace("#","")))){if(!targetBody.classList.contains(CLASS_CONTROL_CONTENT))return void targetTab.classList[isLastActive?"remove":"add"](className);if(!isLastActive){var parentNode=targetBody.parentNode;activeBodies=parentNode.querySelectorAll("."+CLASS_CONTROL_CONTENT+classSelector);for(var i=0;i<activeBodies.length;i++){var activeBody=activeBodies[i];activeBody.parentNode===parentNode&&activeBody.classList.remove(className)}targetBody.classList.add(className);var contents=targetBody.parentNode.querySelectorAll("."+CLASS_CONTROL_CONTENT);$.trigger(targetBody,$.eventName("shown",name),{tabNumber:Array.prototype.indexOf.call(contents,targetBody)}),e.detail&&e.detail.gesture.preventDefault()}}}})}(mui,window,document,"tab"),function($,window,name){var CLASS_SWITCH="mui-switch",CLASS_SWITCH_HANDLE="mui-switch-handle",CLASS_ACTIVE="mui-active",CLASS_DRAGGING="mui-dragging",CLASS_DISABLED="mui-disabled",SELECTOR_SWITCH_HANDLE="."+CLASS_SWITCH_HANDLE,handle=function(event,target){return target.classList&&target.classList.contains(CLASS_SWITCH)?target:!1};$.registerTarget({name:name,index:100,handle:handle,target:!1});var Toggle=function(element){this.element=element,this.classList=this.element.classList,this.handle=this.element.querySelector(SELECTOR_SWITCH_HANDLE),this.init(),this.initEvent()};Toggle.prototype.init=function(){this.toggleWidth=this.element.offsetWidth,this.handleWidth=this.handle.offsetWidth,this.handleX=this.toggleWidth-this.handleWidth-3},Toggle.prototype.initEvent=function(){this.element.addEventListener($.EVENT_START,this),this.element.addEventListener("drag",this),this.element.addEventListener("swiperight",this),this.element.addEventListener($.EVENT_END,this),this.element.addEventListener($.EVENT_CANCEL,this)},Toggle.prototype.handleEvent=function(e){if(!this.classList.contains(CLASS_DISABLED))switch(e.type){case $.EVENT_START:this.start(e);break;case"drag":this.drag(e);break;case"swiperight":this.swiperight();break;case $.EVENT_END:case $.EVENT_CANCEL:this.end(e)}},Toggle.prototype.start=function(e){this.handle.style.webkitTransitionDuration=this.element.style.webkitTransitionDuration=".2s",this.classList.add(CLASS_DRAGGING),0!==this.toggleWidth&&0!==this.handleWidth||this.init()},Toggle.prototype.drag=function(e){var detail=e.detail;this.isDragging||"left"!==detail.direction&&"right"!==detail.direction||(this.isDragging=!0,this.lastChanged=void 0,this.initialState=this.classList.contains(CLASS_ACTIVE)),this.isDragging&&(this.setTranslateX(detail.deltaX),e.stopPropagation(),detail.gesture.preventDefault())},Toggle.prototype.swiperight=function(e){this.isDragging&&e.stopPropagation()},Toggle.prototype.end=function(e){this.classList.remove(CLASS_DRAGGING),this.isDragging?(this.isDragging=!1,e.stopPropagation(),$.trigger(this.element,"toggle",{isActive:this.classList.contains(CLASS_ACTIVE)})):this.toggle()},Toggle.prototype.toggle=function(animate){var classList=this.classList;animate===!1?this.handle.style.webkitTransitionDuration=this.element.style.webkitTransitionDuration="0s":this.handle.style.webkitTransitionDuration=this.element.style.webkitTransitionDuration=".2s",classList.contains(CLASS_ACTIVE)?(classList.remove(CLASS_ACTIVE),this.handle.style.webkitTransform="translate(0,0)"):(classList.add(CLASS_ACTIVE),this.handle.style.webkitTransform="translate("+this.handleX+"px,0)"),$.trigger(this.element,"toggle",{isActive:this.classList.contains(CLASS_ACTIVE)})},Toggle.prototype.setTranslateX=$.animationFrame(function(x){if(this.isDragging){var isChanged=!1;(this.initialState&&-x>this.handleX/2||!this.initialState&&x>this.handleX/2)&&(isChanged=!0),this.lastChanged!==isChanged&&(isChanged?(this.handle.style.webkitTransform="translate("+(this.initialState?0:this.handleX)+"px,0)",this.classList[this.initialState?"remove":"add"](CLASS_ACTIVE)):(this.handle.style.webkitTransform="translate("+(this.initialState?this.handleX:0)+"px,0)",this.classList[this.initialState?"add":"remove"](CLASS_ACTIVE)),this.lastChanged=isChanged)}}),$.fn["switch"]=function(options){var switchApis=[];return this.each(function(){var switchApi=null,id=this.getAttribute("data-switch");id?switchApi=$.data[id]:(id=++$.uuid,$.data[id]=new Toggle(this),this.setAttribute("data-switch",id)),switchApis.push(switchApi)}),switchApis.length>1?switchApis:switchApis[0]},$.ready(function(){$("."+CLASS_SWITCH)["switch"]()})}(mui,window,"toggle"),function($,window,document){function toggleEvents(element,isRemove){var method=isRemove?"removeEventListener":"addEventListener";element[method]("drag",handleEvent),element[method]("dragend",handleEvent),element[method]("swiperight",handleEvent),element[method]("swipeleft",handleEvent),element[method]("flick",handleEvent)}var cell,a,CLASS_ACTIVE="mui-active",CLASS_SELECTED="mui-selected",CLASS_GRID_VIEW="mui-grid-view",CLASS_RADIO_VIEW="mui-table-view-radio",CLASS_TABLE_VIEW_CELL="mui-table-view-cell",CLASS_COLLAPSE_CONTENT="mui-collapse-content",CLASS_DISABLED="mui-disabled",CLASS_TOGGLE="mui-switch",CLASS_BTN="mui-btn",CLASS_SLIDER_HANDLE="mui-slider-handle",CLASS_SLIDER_LEFT="mui-slider-left",CLASS_SLIDER_RIGHT="mui-slider-right",CLASS_TRANSITIONING="mui-transitioning",SELECTOR_SLIDER_HANDLE="."+CLASS_SLIDER_HANDLE,SELECTOR_SLIDER_LEFT="."+CLASS_SLIDER_LEFT,SELECTOR_SLIDER_RIGHT="."+CLASS_SLIDER_RIGHT,SELECTOR_SELECTED="."+CLASS_SELECTED,SELECTOR_BUTTON="."+CLASS_BTN,overFactor=.8,isMoved=isOpened=openedActions=progress=!1,sliderHandle=sliderActionLeft=sliderActionRight=buttonsLeft=buttonsRight=sliderDirection=sliderRequestAnimationFrame=!1,timer=translateX=lastTranslateX=sliderActionLeftWidth=sliderActionRightWidth=0,toggleActive=function(isActive){isActive?a?a.classList.add(CLASS_ACTIVE):cell&&cell.classList.add(CLASS_ACTIVE):(timer&&timer.cancel(),a?a.classList.remove(CLASS_ACTIVE):cell&&cell.classList.remove(CLASS_ACTIVE))},updateTranslate=function(){if(translateX!==lastTranslateX){if(buttonsRight&&buttonsRight.length>0){progress=translateX/sliderActionRightWidth,translateX<-sliderActionRightWidth&&(translateX=-sliderActionRightWidth-Math.pow(-translateX-sliderActionRightWidth,overFactor));for(var i=0,len=buttonsRight.length;len>i;i++){var buttonRight=buttonsRight[i];"undefined"==typeof buttonRight._buttonOffset&&(buttonRight._buttonOffset=buttonRight.offsetLeft),buttonOffset=buttonRight._buttonOffset,setTranslate(buttonRight,translateX-buttonOffset*(1+Math.max(progress,-1)))}}if(buttonsLeft&&buttonsLeft.length>0){progress=translateX/sliderActionLeftWidth,translateX>sliderActionLeftWidth&&(translateX=sliderActionLeftWidth+Math.pow(translateX-sliderActionLeftWidth,overFactor));for(var i=0,len=buttonsLeft.length;len>i;i++){var buttonLeft=buttonsLeft[i];"undefined"==typeof buttonLeft._buttonOffset&&(buttonLeft._buttonOffset=sliderActionLeftWidth-buttonLeft.offsetLeft-buttonLeft.offsetWidth),buttonOffset=buttonLeft._buttonOffset,buttonsLeft.length>1&&(buttonLeft.style.zIndex=buttonsLeft.length-i),setTranslate(buttonLeft,translateX+buttonOffset*(1-Math.min(progress,1)))}}setTranslate(sliderHandle,translateX),lastTranslateX=translateX}sliderRequestAnimationFrame=requestAnimationFrame(function(){updateTranslate()})},setTranslate=function(element,x){element&&(element.style.webkitTransform="translate("+x+"px,0)")};window.addEventListener($.EVENT_START,function(event){cell&&toggleActive(!1),cell=a=!1,isMoved=isOpened=openedActions=!1;for(var target=event.target,isDisabled=!1;target&&target!==document;target=target.parentNode)if(target.classList){var classList=target.classList;if(("INPUT"===target.tagName&&"radio"!==target.type&&"checkbox"!==target.type||"BUTTON"===target.tagName||classList.contains(CLASS_TOGGLE)||classList.contains(CLASS_BTN)||classList.contains(CLASS_DISABLED))&&(isDisabled=!0),classList.contains(CLASS_COLLAPSE_CONTENT))break;if(classList.contains(CLASS_TABLE_VIEW_CELL)){cell=target;var selected=cell.parentNode.querySelector(SELECTOR_SELECTED);if(!cell.parentNode.classList.contains(CLASS_RADIO_VIEW)&&selected&&selected!==cell)return $.swipeoutClose(selected),void(cell=isDisabled=!1);if(!cell.parentNode.classList.contains(CLASS_GRID_VIEW)){var link=cell.querySelector("a");link&&link.parentNode===cell&&(a=link)}var handle=cell.querySelector(SELECTOR_SLIDER_HANDLE);handle&&(toggleEvents(cell),event.stopPropagation()),isDisabled||(handle?(timer&&timer.cancel(),timer=$.later(function(){toggleActive(!0)},100)):toggleActive(!0));break}}}),window.addEventListener($.EVENT_MOVE,function(event){toggleActive(!1)});var handleEvent={handleEvent:function(event){switch(event.type){case"drag":this.drag(event);break;case"dragend":this.dragend(event);break;case"flick":this.flick(event);break;case"swiperight":this.swiperight(event);break;case"swipeleft":this.swipeleft(event)}},drag:function(event){if(cell){isMoved||(sliderHandle=sliderActionLeft=sliderActionRight=buttonsLeft=buttonsRight=sliderDirection=sliderRequestAnimationFrame=!1,sliderHandle=cell.querySelector(SELECTOR_SLIDER_HANDLE),sliderHandle&&(sliderActionLeft=cell.querySelector(SELECTOR_SLIDER_LEFT),sliderActionRight=cell.querySelector(SELECTOR_SLIDER_RIGHT),sliderActionLeft&&(sliderActionLeftWidth=sliderActionLeft.offsetWidth,buttonsLeft=sliderActionLeft.querySelectorAll(SELECTOR_BUTTON)),sliderActionRight&&(sliderActionRightWidth=sliderActionRight.offsetWidth,buttonsRight=sliderActionRight.querySelectorAll(SELECTOR_BUTTON)),cell.classList.remove(CLASS_TRANSITIONING),isOpened=cell.classList.contains(CLASS_SELECTED),isOpened&&(openedActions=cell.querySelector(SELECTOR_SLIDER_LEFT+SELECTOR_SELECTED)?"left":"right")));var detail=event.detail,direction=detail.direction,angle=detail.angle;if("left"===direction&&(angle>150||-150>angle)?(buttonsRight||buttonsLeft&&isOpened)&&(isMoved=!0):"right"===direction&&angle>-30&&30>angle&&(buttonsLeft||buttonsRight&&isOpened)&&(isMoved=!0),isMoved){event.stopPropagation(),event.detail.gesture.preventDefault();var translate=event.detail.deltaX;if(isOpened&&("right"===openedActions?translate-=sliderActionRightWidth:translate+=sliderActionLeftWidth),translate>0&&!buttonsLeft||0>translate&&!buttonsRight){if(!isOpened)return;translate=0}0>translate?sliderDirection="toLeft":translate>0?sliderDirection="toRight":sliderDirection||(sliderDirection="toLeft"),sliderRequestAnimationFrame||updateTranslate(),translateX=translate}}},flick:function(event){isMoved&&event.stopPropagation()},swipeleft:function(event){isMoved&&event.stopPropagation()},swiperight:function(event){isMoved&&event.stopPropagation()},dragend:function(event){if(isMoved){event.stopPropagation(),sliderRequestAnimationFrame&&(cancelAnimationFrame(sliderRequestAnimationFrame),sliderRequestAnimationFrame=null);var detail=event.detail;isMoved=!1;var action="close",actionsWidth="toLeft"===sliderDirection?sliderActionRightWidth:sliderActionLeftWidth,isToggle=detail.swipe||Math.abs(translateX)>actionsWidth/2;isToggle&&(isOpened?"left"===detail.direction&&"right"===openedActions?action="open":"right"===detail.direction&&"left"===openedActions&&(action="open"):action="open"),cell.classList.add(CLASS_TRANSITIONING);var buttons;if("open"===action){var newTranslate="toLeft"===sliderDirection?-actionsWidth:actionsWidth;if(setTranslate(sliderHandle,newTranslate),buttons="toLeft"===sliderDirection?buttonsRight:buttonsLeft,"undefined"!=typeof buttons){for(var button=null,i=0;i<buttons.length;i++)button=buttons[i],setTranslate(button,newTranslate);button.parentNode.classList.add(CLASS_SELECTED),cell.classList.add(CLASS_SELECTED),isOpened||$.trigger(cell,"toLeft"===sliderDirection?"slideleft":"slideright")}}else setTranslate(sliderHandle,0),sliderActionLeft&&sliderActionLeft.classList.remove(CLASS_SELECTED),sliderActionRight&&sliderActionRight.classList.remove(CLASS_SELECTED),cell.classList.remove(CLASS_SELECTED);var buttonOffset;if(buttonsLeft&&buttonsLeft.length>0&&buttonsLeft!==buttons)for(var i=0,len=buttonsLeft.length;len>i;i++){var buttonLeft=buttonsLeft[i];buttonOffset=buttonLeft._buttonOffset,"undefined"==typeof buttonOffset&&(buttonLeft._buttonOffset=sliderActionLeftWidth-buttonLeft.offsetLeft-buttonLeft.offsetWidth),setTranslate(buttonLeft,buttonOffset)}if(buttonsRight&&buttonsRight.length>0&&buttonsRight!==buttons)for(var i=0,len=buttonsRight.length;len>i;i++){var buttonRight=buttonsRight[i];buttonOffset=buttonRight._buttonOffset,"undefined"==typeof buttonOffset&&(buttonRight._buttonOffset=buttonRight.offsetLeft),setTranslate(buttonRight,-buttonOffset)}}}};$.swipeoutOpen=function(el,direction){if(el){var classList=el.classList;if(!classList.contains(CLASS_SELECTED)){direction||(direction=el.querySelector(SELECTOR_SLIDER_RIGHT)?"right":"left");var swipeoutAction=el.querySelector($.classSelector(".slider-"+direction));if(swipeoutAction){swipeoutAction.classList.add(CLASS_SELECTED),classList.add(CLASS_SELECTED),classList.remove(CLASS_TRANSITIONING);
for(var button,buttons=swipeoutAction.querySelectorAll(SELECTOR_BUTTON),swipeoutWidth=swipeoutAction.offsetWidth,translate="right"===direction?-swipeoutWidth:swipeoutWidth,length=buttons.length,i=0;length>i;i++)button=buttons[i],"right"===direction?setTranslate(button,-button.offsetLeft):setTranslate(button,swipeoutWidth-button.offsetWidth-button.offsetLeft);classList.add(CLASS_TRANSITIONING);for(var i=0;length>i;i++)setTranslate(buttons[i],translate);setTranslate(el.querySelector(SELECTOR_SLIDER_HANDLE),translate)}}}},$.swipeoutClose=function(el){if(el){var classList=el.classList;if(classList.contains(CLASS_SELECTED)){var direction=el.querySelector(SELECTOR_SLIDER_RIGHT+SELECTOR_SELECTED)?"right":"left",swipeoutAction=el.querySelector($.classSelector(".slider-"+direction));if(swipeoutAction){swipeoutAction.classList.remove(CLASS_SELECTED),classList.remove(CLASS_SELECTED),classList.add(CLASS_TRANSITIONING);var button,buttons=swipeoutAction.querySelectorAll(SELECTOR_BUTTON),swipeoutWidth=swipeoutAction.offsetWidth,length=buttons.length;setTranslate(el.querySelector(SELECTOR_SLIDER_HANDLE),0);for(var i=0;length>i;i++)button=buttons[i],"right"===direction?setTranslate(button,-button.offsetLeft):setTranslate(button,swipeoutWidth-button.offsetWidth-button.offsetLeft)}}}},window.addEventListener($.EVENT_END,function(event){cell&&(toggleActive(!1),sliderHandle&&toggleEvents(cell,!0))}),window.addEventListener($.EVENT_CANCEL,function(event){cell&&(toggleActive(!1),sliderHandle&&toggleEvents(cell,!0))});var radioOrCheckboxClick=function(event){var type=event.target&&event.target.type||"";if("radio"!==type&&"checkbox"!==type){var classList=cell.classList;if(classList.contains("mui-radio")){var input=cell.querySelector("input[type=radio]");input&&(input.disabled||input.readOnly||(input.checked=!input.checked,$.trigger(input,"change")))}else if(classList.contains("mui-checkbox")){var input=cell.querySelector("input[type=checkbox]");input&&(input.disabled||input.readOnly||(input.checked=!input.checked,$.trigger(input,"change")))}}};window.addEventListener($.EVENT_CLICK,function(e){cell&&cell.classList.contains("mui-collapse")&&e.preventDefault()}),window.addEventListener("doubletap",function(event){cell&&radioOrCheckboxClick(event)});var preventDefaultException=/^(INPUT|TEXTAREA|BUTTON|SELECT)$/;window.addEventListener("tap",function(event){if(cell){var isExpand=!1,classList=cell.classList,ul=cell.parentNode;if(ul&&ul.classList.contains(CLASS_RADIO_VIEW)){if(classList.contains(CLASS_SELECTED))return;var selected=ul.querySelector("li"+SELECTOR_SELECTED);return selected&&selected.classList.remove(CLASS_SELECTED),classList.add(CLASS_SELECTED),void $.trigger(cell,"selected",{el:cell})}if(classList.contains("mui-collapse")&&!cell.parentNode.classList.contains("mui-unfold")){if(preventDefaultException.test(event.target.tagName)||event.detail.gesture.preventDefault(),!classList.contains(CLASS_ACTIVE)){var collapse=cell.parentNode.querySelector(".mui-collapse.mui-active");collapse&&collapse.classList.remove(CLASS_ACTIVE),isExpand=!0}classList.toggle(CLASS_ACTIVE),isExpand&&$.trigger(cell,"expand")}else radioOrCheckboxClick(event)}})}(mui,window,document),function($,window){$.alert=function(message,title,btnValue,callback){if($.os.plus){if("undefined"==typeof message)return;"function"==typeof title?(callback=title,title=null,btnValue=""):"function"==typeof btnValue&&(callback=btnValue,btnValue=null),$.plusReady(function(){plus.nativeUI.alert(message,callback,title,btnValue)})}else window.alert(message)}}(mui,window),function($,window){$.confirm=function(message,title,btnArray,callback){if($.os.plus){if("undefined"==typeof message)return;"function"==typeof title?(callback=title,title=null,btnArray=null):"function"==typeof btnArray&&(callback=btnArray,btnArray=null),$.plusReady(function(){plus.nativeUI.confirm(message,callback,title,btnArray)})}else callback(window.confirm(message)?{index:0}:{index:1})}}(mui,window),function($,window){$.prompt=function(text,defaultText,title,btnArray,callback){if($.os.plus){if("undefined"==typeof message)return;"function"==typeof defaultText?(callback=defaultText,defaultText=null,title=null,btnArray=null):"function"==typeof title?(callback=title,title=null,btnArray=null):"function"==typeof btnArray&&(callback=btnArray,btnArray=null),$.plusReady(function(){plus.nativeUI.prompt(text,callback,title,defaultText,btnArray)})}else{var result=window.prompt(text);callback(result?{index:0,value:result}:{index:1,value:""})}}}(mui,window),function($,window){var CLASS_ACTIVE="mui-active";$.toast=function(message){if($.os.plus)$.plusReady(function(){plus.nativeUI.toast(message,{verticalAlign:"bottom"})});else{var toast=document.createElement("div");toast.classList.add("mui-toast-container"),toast.innerHTML='<div class="mui-toast-message">'+message+"</div>",toast.addEventListener("webkitTransitionEnd",function(){toast.classList.contains(CLASS_ACTIVE)||toast.parentNode.removeChild(toast)}),document.body.appendChild(toast),toast.offsetHeight,toast.classList.add(CLASS_ACTIVE),setTimeout(function(){toast.classList.remove(CLASS_ACTIVE)},2e3)}}}(mui,window),function($,window,document){var CLASS_POPUP="mui-popup",CLASS_POPUP_BACKDROP="mui-popup-backdrop",CLASS_POPUP_IN="mui-popup-in",CLASS_POPUP_OUT="mui-popup-out",CLASS_POPUP_INNER="mui-popup-inner",CLASS_POPUP_TITLE="mui-popup-title",CLASS_POPUP_TEXT="mui-popup-text",CLASS_POPUP_INPUT="mui-popup-input",CLASS_POPUP_BUTTONS="mui-popup-buttons",CLASS_POPUP_BUTTON="mui-popup-button",CLASS_POPUP_BUTTON_BOLD="mui-popup-button-bold",CLASS_POPUP_BACKDROP="mui-popup-backdrop",CLASS_ACTIVE="mui-active",popupStack=[],backdrop=function(){var element=document.createElement("div");return element.classList.add(CLASS_POPUP_BACKDROP),element.addEventListener("webkitTransitionEnd",function(){this.classList.contains(CLASS_ACTIVE)||element.parentNode&&element.parentNode.removeChild(element)}),element}(),createInput=function(placeholder){return'<div class="'+CLASS_POPUP_INPUT+'"><input type="text" autofocus placeholder="'+(placeholder||"")+'"/></div>'},createInner=function(message,title,extra){return'<div class="'+CLASS_POPUP_INNER+'"><div class="'+CLASS_POPUP_TITLE+'">'+title+'</div><div class="'+CLASS_POPUP_TEXT+'">'+message+"</div>"+(extra||"")+"</div>"},createButtons=function(btnArray){for(var length=btnArray.length,btns=[],i=0;length>i;i++)btns.push('<span class="'+CLASS_POPUP_BUTTON+(i===length-1?" "+CLASS_POPUP_BUTTON_BOLD:"")+'">'+btnArray[i]+"</span>");return'<div class="'+CLASS_POPUP_BUTTONS+'">'+btns.join("")+"</div>"},createPopup=function(html,callback){var popupElement=document.createElement("div");popupElement.className=CLASS_POPUP,popupElement.innerHTML=html;var removePopupElement=function(){popupElement.parentNode&&popupElement.parentNode.removeChild(popupElement),popupElement=null};popupElement.addEventListener("webkitTransitionEnd",function(e){popupElement&&e.target===popupElement&&popupElement.classList.contains(CLASS_POPUP_OUT)&&removePopupElement()}),popupElement.style.display="block",document.body.appendChild(popupElement),popupElement.offsetHeight,popupElement.classList.add(CLASS_POPUP_IN),backdrop.classList.contains(CLASS_ACTIVE)||(backdrop.style.display="block",document.body.appendChild(backdrop),backdrop.offsetHeight,backdrop.classList.add(CLASS_ACTIVE));var btns=$.qsa("."+CLASS_POPUP_BUTTON,popupElement),input=popupElement.querySelector("."+CLASS_POPUP_INPUT+" input"),popup={element:popupElement,close:function(index,animate){popupElement&&(callback&&callback({index:index||0,value:input&&input.value||""}),animate!==!1?(popupElement.classList.remove(CLASS_POPUP_IN),popupElement.classList.add(CLASS_POPUP_OUT)):removePopupElement(),popupStack.pop(),popupStack.length?popupStack[popupStack.length-1].show(animate):backdrop.classList.remove(CLASS_ACTIVE))}},handleEvent=function(e){popup.close(btns.indexOf(e.target))};return $(popupElement).on("tap","."+CLASS_POPUP_BUTTON,handleEvent),popupStack.length&&popupStack[popupStack.length-1].hide(),popupStack.push({close:popup.close,show:function(animate){popupElement.style.display="block",popupElement.offsetHeight,popupElement.classList.add(CLASS_POPUP_IN)},hide:function(){popupElement.style.display="none",popupElement.classList.remove(CLASS_POPUP_IN)}}),popup},createAlert=function(message,title,btnValue,callback,type){return"undefined"!=typeof message?("function"==typeof title?(callback=title,title=null,btnValue=null):"function"==typeof btnValue&&(callback=btnValue,btnValue=null),$.os.plus&&"div"!==type?plus.nativeUI.alert(message,callback,title||"",btnValue||""):createPopup(createInner(message,title||"")+createButtons([btnValue||""]),callback)):void 0},createConfirm=function(message,title,btnArray,callback,type){return"undefined"!=typeof message?("function"==typeof title?(callback=title,title=null,btnArray=null):"function"==typeof btnArray&&(callback=btnArray,btnArray=null),$.os.plus&&"div"!==type?plus.nativeUI.confirm(message,callback,title,btnArray||["",""]):createPopup(createInner(message,title||"")+createButtons(btnArray||["",""]),callback)):void 0},createPrompt=function(message,placeholder,title,btnArray,callback,type){return"undefined"!=typeof message?("function"==typeof placeholder?(callback=placeholder,placeholder=null,title=null,btnArray=null):"function"==typeof title?(callback=title,title=null,btnArray=null):"function"==typeof btnArray&&(callback=btnArray,btnArray=null),$.os.plus&&"div"!==type?plus.nativeUI.prompt(message,callback,title||"",placeholder,btnArray||["",""]):createPopup(createInner(message,title||"",createInput(placeholder))+createButtons(btnArray||["",""]),callback)):void 0},closePopup=function(){return popupStack.length?(popupStack[popupStack.length-1].close(),!0):!1},closePopups=function(){for(;popupStack.length;)popupStack[popupStack.length-1].close()};$.closePopup=closePopup,$.closePopups=closePopups,$.alert=createAlert,$.confirm=createConfirm,$.prompt=createPrompt}(mui,window,document),function($,window,document){var CLASS_ICON="mui-icon",CLASS_ICON_CLEAR="mui-icon-clear",CLASS_ICON_SPEECH="mui-icon-speech",CLASS_ICON_SEARCH="mui-icon-search",CLASS_ICON_PASSWORD="mui-icon-eye",CLASS_INPUT_ROW="mui-input-row",CLASS_PLACEHOLDER="mui-placeholder",CLASS_TOOLTIP="mui-tooltip",CLASS_HIDDEN="mui-hidden",CLASS_FOCUSIN="mui-focusin",SELECTOR_ICON_CLOSE="."+CLASS_ICON_CLEAR,SELECTOR_ICON_SPEECH="."+CLASS_ICON_SPEECH,SELECTOR_ICON_PASSWORD="."+CLASS_ICON_PASSWORD,SELECTOR_PLACEHOLDER="."+CLASS_PLACEHOLDER,SELECTOR_TOOLTIP="."+CLASS_TOOLTIP,findRow=function(target){for(;target&&target!==document;target=target.parentNode)if(target.classList&&target.classList.contains(CLASS_INPUT_ROW))return target;return null},Input=function(element,options){this.element=element,this.options=options||{actions:"clear"},~this.options.actions.indexOf("slider")?(this.sliderActionClass=CLASS_TOOLTIP+" "+CLASS_HIDDEN,this.sliderActionSelector=SELECTOR_TOOLTIP):(~this.options.actions.indexOf("clear")&&(this.clearActionClass=CLASS_ICON+" "+CLASS_ICON_CLEAR+" "+CLASS_HIDDEN,this.clearActionSelector=SELECTOR_ICON_CLOSE),~this.options.actions.indexOf("speech")&&(this.speechActionClass=CLASS_ICON+" "+CLASS_ICON_SPEECH,this.speechActionSelector=SELECTOR_ICON_SPEECH),~this.options.actions.indexOf("search")&&(this.searchActionClass=CLASS_PLACEHOLDER,this.searchActionSelector=SELECTOR_PLACEHOLDER),~this.options.actions.indexOf("password")&&(this.passwordActionClass=CLASS_ICON+" "+CLASS_ICON_PASSWORD,this.passwordActionSelector=SELECTOR_ICON_PASSWORD)),this.init()};Input.prototype.init=function(){this.initAction(),this.initElementEvent()},Input.prototype.initAction=function(){var self=this,row=self.element.parentNode;row&&(self.sliderActionClass?self.sliderAction=self.createAction(row,self.sliderActionClass,self.sliderActionSelector):(self.searchActionClass&&(self.searchAction=self.createAction(row,self.searchActionClass,self.searchActionSelector),self.searchAction.addEventListener("tap",function(e){$.focus(self.element),e.stopPropagation()})),self.speechActionClass&&(self.speechAction=self.createAction(row,self.speechActionClass,self.speechActionSelector),self.speechAction.addEventListener("click",$.stopPropagation),self.speechAction.addEventListener("tap",function(event){self.speechActionClick(event)})),self.clearActionClass&&(self.clearAction=self.createAction(row,self.clearActionClass,self.clearActionSelector),self.clearAction.addEventListener("tap",function(event){self.clearActionClick(event)})),self.passwordActionClass&&(self.passwordAction=self.createAction(row,self.passwordActionClass,self.passwordActionSelector),self.passwordAction.addEventListener("tap",function(event){self.passwordActionClick(event)}))))},Input.prototype.createAction=function(row,actionClass,actionSelector){var action=row.querySelector(actionSelector);if(!action){var action=document.createElement("span");action.className=actionClass,actionClass===this.searchActionClass&&(action.innerHTML='<span class="'+CLASS_ICON+" "+CLASS_ICON_SEARCH+'"></span><span>'+this.element.getAttribute("placeholder")+"</span>",this.element.setAttribute("placeholder",""),this.element.value.trim()&&row.classList.add("mui-active")),row.insertBefore(action,this.element.nextSibling)}return action},Input.prototype.initElementEvent=function(){var element=this.element;if(this.sliderActionClass){var tooltip=this.sliderAction,offsetLeft=element.offsetLeft,width=element.offsetWidth-28,tooltipWidth=tooltip.offsetWidth,distince=Math.abs(element.max-element.min),timer=null,showTip=function(){tooltip.classList.remove(CLASS_HIDDEN),tooltipWidth=tooltipWidth||tooltip.offsetWidth;var scaleWidth=width/distince*Math.abs(element.value-element.min);tooltip.style.left=14+offsetLeft+scaleWidth-tooltipWidth/2+"px",tooltip.innerText=element.value,timer&&clearTimeout(timer),timer=setTimeout(function(){tooltip.classList.add(CLASS_HIDDEN)},1e3)};element.addEventListener("input",showTip),element.addEventListener("tap",showTip),element.addEventListener($.EVENT_MOVE,function(e){e.stopPropagation()})}else{if(this.clearActionClass){var action=this.clearAction;if(!action)return;$.each(["keyup","change","input","focus","cut","paste"],function(index,type){!function(type){element.addEventListener(type,function(){action.classList[element.value.trim()?"remove":"add"](CLASS_HIDDEN)})}(type)}),element.addEventListener("blur",function(){action.classList.add(CLASS_HIDDEN)})}this.searchActionClass&&(element.addEventListener("focus",function(){element.parentNode.classList.add("mui-active")}),element.addEventListener("blur",function(){element.value.trim()||element.parentNode.classList.remove("mui-active")}))}},Input.prototype.setPlaceholder=function(text){if(this.searchActionClass){var placeholder=this.element.parentNode.querySelector(SELECTOR_PLACEHOLDER);placeholder&&(placeholder.getElementsByTagName("span")[1].innerText=text)}else this.element.setAttribute("placeholder",text)},Input.prototype.passwordActionClick=function(event){"text"===this.element.type?this.element.type="password":this.element.type="text",this.passwordAction.classList.toggle("mui-active"),event.preventDefault()},Input.prototype.clearActionClick=function(event){var self=this;self.element.value="",$.focus(self.element),self.clearAction.classList.add(CLASS_HIDDEN),event.preventDefault()},Input.prototype.speechActionClick=function(event){if(window.plus){var self=this,oldValue=self.element.value;self.element.value="",document.body.classList.add(CLASS_FOCUSIN),plus.speech.startRecognize({engine:"iFly"},function(s){self.element.value+=s,$.focus(self.element),plus.speech.stopRecognize(),$.trigger(self.element,"recognized",{value:self.element.value}),oldValue!==self.element.value&&($.trigger(self.element,"change"),$.trigger(self.element,"input"))},function(e){document.body.classList.remove(CLASS_FOCUSIN)})}else alert("only for 5+");event.preventDefault()},$.fn.input=function(options){var inputApis=[];return this.each(function(){var inputApi=null,actions=[],row=findRow(this.parentNode);if("range"===this.type&&row.classList.contains("mui-input-range"))actions.push("slider");else{var classList=this.classList;classList.contains("mui-input-clear")&&actions.push("clear"),classList.contains("mui-input-speech")&&actions.push("speech"),classList.contains("mui-input-password")&&actions.push("password"),"search"===this.type&&row.classList.contains("mui-search")&&actions.push("search")}var id=this.getAttribute("data-input-"+actions[0]);if(id)inputApi=$.data[id];else{id=++$.uuid,inputApi=$.data[id]=new Input(this,{actions:actions.join(",")});for(var i=0,len=actions.length;len>i;i++)this.setAttribute("data-input-"+actions[i],id)}inputApis.push(inputApi)}),1===inputApis.length?inputApis[0]:inputApis},$.ready(function(){$(".mui-input-row input").input()})}(mui,window,document),function($){var touchSupport="ontouchstart"in document,tapEventName=touchSupport?"tap":"click",changeEventName="change",holderClassName="mui-numbox",plusClassSelector=".mui-btn-numbox-plus,.mui-numbox-btn-plus",minusClassSelector=".mui-btn-numbox-minus,.mui-numbox-btn-minus",inputClassSelector=".mui-input-numbox,.mui-numbox-input",Numbox=$.Numbox=$.Class.extend({init:function(holder,options){var self=this;if(!holder)throw" numbox ";self.holder=holder,options=options||{},options.step=parseInt(options.step||1),self.options=options,self.input=$.qsa(inputClassSelector,self.holder)[0],self.plus=$.qsa(plusClassSelector,self.holder)[0],self.minus=$.qsa(minusClassSelector,self.holder)[0],self.checkValue(),self.initEvent()},initEvent:function(){var self=this;self.plus.addEventListener(tapEventName,function(event){var val=parseInt(self.input.value)+self.options.step;self.input.value=val.toString(),$.trigger(self.input,changeEventName,null)}),self.minus.addEventListener(tapEventName,function(event){var val=parseInt(self.input.value)-self.options.step;self.input.value=val.toString(),$.trigger(self.input,changeEventName,null)}),self.input.addEventListener(changeEventName,function(event){self.checkValue();var val=parseInt(self.input.value);$.trigger(self.holder,changeEventName,{value:val})})},getValue:function(){var self=this;return parseInt(self.input.value)},checkValue:function(){var self=this,val=self.input.value;if(null==val||""==val||isNaN(val))self.input.value=self.options.min||0,self.minus.disabled=null!=self.options.min;else{var val=parseInt(val);null!=self.options.max&&!isNaN(self.options.max)&&val>=parseInt(self.options.max)?(val=self.options.max,self.plus.disabled=!0):self.plus.disabled=!1,null!=self.options.min&&!isNaN(self.options.min)&&val<=parseInt(self.options.min)?(val=self.options.min,self.minus.disabled=!0):self.minus.disabled=!1,self.input.value=val}},setOption:function(name,value){var self=this;self.options[name]=value}});$.fn.numbox=function(options){return this.each(function(i,element){if(!element.numbox)if(options)element.numbox=new Numbox(element,options);else{var optionsText=element.getAttribute("data-numbox-options"),options=optionsText?JSON.parse(optionsText):{};options.step=element.getAttribute("data-numbox-step")||options.step,options.min=element.getAttribute("data-numbox-min")||options.min,options.max=element.getAttribute("data-numbox-max")||options.max,element.numbox=new Numbox(element,options)}}),this[0]?this[0].numbox:null},$.ready(function(){$("."+holderClassName).numbox()})}(mui);